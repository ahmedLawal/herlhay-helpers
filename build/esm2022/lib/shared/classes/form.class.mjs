import { FormControl, Validators, } from '@angular/forms';
export var Forms;
(function (Forms) {
    class ConfigForms {
        matches(formGroup, field1 = 'password', field2 = 'rpassword') {
            if (formGroup.get(field1).value !== formGroup.get(field2).value) {
                formGroup.get(field1).setErrors({ noMatch: true }, { emitEvent: true });
                formGroup.get(field2).setErrors({ noMatch: true }, { emitEvent: true });
            }
            else {
                formGroup.get(field1).setErrors(null, { emitEvent: true });
                formGroup.get(field2).setErrors(null, { emitEvent: true });
            }
            console.log(formGroup);
        }
        matches2(formGroup, field1, field2) {
            return formGroup.get(field1).value === formGroup.get(field2).value
                ? null
                : { noMatch: true };
        }
        email(required = true, value = '') {
            return new FormControl(value, Validators.compose([
                ...(required ? [Validators.required] : []),
                Validators.pattern(configPatterns.email),
            ]));
        }
        name(required = true, minLength = 2, value = '') {
            return new FormControl(value, Validators.compose([
                ...(required ? [Validators.required] : []),
                Validators.minLength(minLength),
                Validators.pattern(configPatterns.name),
            ]));
        }
        array(required = false, value = []) {
            return new FormControl(value, required ? [Validators.required] : []);
        }
        boolean(required = false, value = false) {
            return new FormControl(value, required ? [Validators.required] : []);
        }
        username(required = true, minLength = 3, maxLength = 10, value = '') {
            return new FormControl(value, [
                ...(required ? [Validators.required] : []),
                Validators.minLength(minLength),
                Validators.maxLength(maxLength),
                Validators.pattern(configPatterns.username),
            ]);
        }
        default(value, validatorOrOpts, asyncValidator) {
            return new FormControl(value, validatorOrOpts, asyncValidator);
        }
        number(required = false, value = null, maxLength = 100000) {
            return new FormControl(value, [
                ...(required ? [Validators.required] : []),
                Validators.pattern(configPatterns.number),
                Validators.maxLength(maxLength),
            ]);
        }
        integer(required = true, value = null, maxLength = 100000) {
            return new FormControl(value, [
                ...(required ? [Validators.required] : []),
                Validators.pattern(configPatterns.integer),
                Validators.maxLength(maxLength),
            ]);
        }
        postalCode(required = true, value = null) {
            return new FormControl(value, [
                Validators.pattern(configPatterns.postal),
                ...(required ? [Validators.required] : []),
            ]);
        }
        phone(required = true, value = '') {
            return new FormControl(value, [
                ...(required ? [Validators.required] : []),
                Validators.minLength(11),
                Validators.pattern(configPatterns.phone),
            ]);
        }
        requiredMinLength(length, value = '') {
            return new FormControl(value, [
                Validators.required,
                Validators.minLength(length),
            ]);
        }
        requiredMinMaxLength(min, max) {
            return new FormControl('', [
                Validators.required,
                Validators.minLength(min),
                Validators.maxLength(max),
            ]);
        }
        required(value = null) {
            return new FormControl(value, Validators.required);
        }
        minLength(length = 3, value = '') {
            return new FormControl(value, [
                Validators.minLength(length),
                Validators.required,
            ]);
        }
        url(value = '', required = true) {
            return new FormControl(value, Validators.compose([
                ...(required ? [Validators.required] : []),
                Validators.pattern(configPatterns.url),
            ]));
        }
        pattern(pattern, required = false, value) {
            return new FormControl(value, Validators.compose([
                ...(required ? [Validators.required] : []),
                Validators.pattern(pattern),
            ]));
        }
    }
    Forms.ConfigForms = ConfigForms;
})(Forms || (Forms = {}));
export const configForms = new Forms.ConfigForms();
export const configPatterns = {
    date: /^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[13-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/,
    email: /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$/,
    integer: /^[0-9]+$/,
    name: /^[a-zA-Z0-9- ]+$/,
    number: /^-?[0-9,\.]+$/,
    phone: /^[+]*[0-9]+$/,
    postal: /^([0-9]{5})([\-]{1}[0-9]{4})?$|^([0-9]{6})?$/,
    url: /((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,
    username: /^[a-zA-Z0-9-]+$/,
    website: /((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS5jbGFzcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2hlcmxoYXktaGVscGVycy9zcmMvbGliL3NoYXJlZC9jbGFzc2VzL2Zvcm0uY2xhc3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUlMLFdBQVcsRUFHWCxVQUFVLEdBQ1gsTUFBTSxnQkFBZ0IsQ0FBQztBQUV4QixNQUFNLEtBQVcsS0FBSyxDQWlJckI7QUFqSUQsV0FBaUIsS0FBSztJQUNwQixNQUFhLFdBQVc7UUFDdEIsT0FBTyxDQUNMLFNBQW9CLEVBQ3BCLFNBQWlCLFVBQVUsRUFDM0IsU0FBaUIsV0FBVztZQUU1QixJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxLQUFLLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFO2dCQUMvRCxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO2dCQUN4RSxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO2FBQ3pFO2lCQUFNO2dCQUNMLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO2dCQUMzRCxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQzthQUM1RDtZQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDekIsQ0FBQztRQUNELFFBQVEsQ0FBQyxTQUFjLEVBQUUsTUFBYyxFQUFFLE1BQWM7WUFDckQsT0FBTyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssS0FBSyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUs7Z0JBQ2hFLENBQUMsQ0FBQyxJQUFJO2dCQUNOLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQztRQUN4QixDQUFDO1FBQ0QsS0FBSyxDQUFDLFFBQVEsR0FBRyxJQUFJLEVBQUUsS0FBSyxHQUFHLEVBQUU7WUFDL0IsT0FBTyxJQUFJLFdBQVcsQ0FDcEIsS0FBSyxFQUNMLFVBQVUsQ0FBQyxPQUFPLENBQUM7Z0JBQ2pCLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQzFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQzthQUN6QyxDQUFDLENBQ0gsQ0FBQztRQUNKLENBQUM7UUFDRCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksRUFBRSxTQUFTLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxFQUFFO1lBQzdDLE9BQU8sSUFBSSxXQUFXLENBQ3BCLEtBQUssRUFDTCxVQUFVLENBQUMsT0FBTyxDQUFDO2dCQUNqQixHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUMxQyxVQUFVLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQztnQkFDL0IsVUFBVSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDO2FBQ3hDLENBQUMsQ0FDSCxDQUFDO1FBQ0osQ0FBQztRQUNELEtBQUssQ0FBQyxRQUFRLEdBQUcsS0FBSyxFQUFFLEtBQUssR0FBRyxFQUFFO1lBQ2hDLE9BQU8sSUFBSSxXQUFXLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZFLENBQUM7UUFDRCxPQUFPLENBQUMsUUFBUSxHQUFHLEtBQUssRUFBRSxLQUFLLEdBQUcsS0FBSztZQUNyQyxPQUFPLElBQUksV0FBVyxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN2RSxDQUFDO1FBQ0QsUUFBUSxDQUFDLFFBQVEsR0FBRyxJQUFJLEVBQUUsU0FBUyxHQUFHLENBQUMsRUFBRSxTQUFTLEdBQUcsRUFBRSxFQUFFLEtBQUssR0FBRyxFQUFFO1lBQ2pFLE9BQU8sSUFBSSxXQUFXLENBQUMsS0FBSyxFQUFFO2dCQUM1QixHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUMxQyxVQUFVLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQztnQkFDL0IsVUFBVSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUM7Z0JBQy9CLFVBQVUsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQzthQUM1QyxDQUFDLENBQUM7UUFDTCxDQUFDO1FBQ0QsT0FBTyxDQUNMLEtBQU0sRUFDTixlQUFzRSxFQUN0RSxjQUFzRDtZQUV0RCxPQUFPLElBQUksV0FBVyxDQUFJLEtBQUssRUFBRSxlQUFlLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFDcEUsQ0FBQztRQUNELE1BQU0sQ0FBQyxRQUFRLEdBQUcsS0FBSyxFQUFFLEtBQUssR0FBRyxJQUFJLEVBQUUsU0FBUyxHQUFHLE1BQU07WUFDdkQsT0FBTyxJQUFJLFdBQVcsQ0FBQyxLQUFLLEVBQUU7Z0JBQzVCLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQzFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQztnQkFDekMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUM7YUFDaEMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELE9BQU8sQ0FBQyxRQUFRLEdBQUcsSUFBSSxFQUFFLEtBQUssR0FBRyxJQUFJLEVBQUUsU0FBUyxHQUFHLE1BQU07WUFDdkQsT0FBTyxJQUFJLFdBQVcsQ0FBQyxLQUFLLEVBQUU7Z0JBQzVCLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQzFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQztnQkFDMUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUM7YUFDaEMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELFVBQVUsQ0FBQyxRQUFRLEdBQUcsSUFBSSxFQUFFLEtBQUssR0FBRyxJQUFJO1lBQ3RDLE9BQU8sSUFBSSxXQUFXLENBQUMsS0FBSyxFQUFFO2dCQUM1QixVQUFVLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUM7Z0JBQ3pDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7YUFDM0MsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELEtBQUssQ0FBQyxRQUFRLEdBQUcsSUFBSSxFQUFFLEtBQUssR0FBRyxFQUFFO1lBQy9CLE9BQU8sSUFBSSxXQUFXLENBQUMsS0FBSyxFQUFFO2dCQUM1QixHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUMxQyxVQUFVLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQztnQkFDeEIsVUFBVSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDO2FBQ3pDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFDRCxpQkFBaUIsQ0FBQyxNQUFjLEVBQUUsS0FBSyxHQUFHLEVBQUU7WUFDMUMsT0FBTyxJQUFJLFdBQVcsQ0FBQyxLQUFLLEVBQUU7Z0JBQzVCLFVBQVUsQ0FBQyxRQUFRO2dCQUNuQixVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQzthQUM3QixDQUFDLENBQUM7UUFDTCxDQUFDO1FBQ0Qsb0JBQW9CLENBQUMsR0FBVyxFQUFFLEdBQVc7WUFDM0MsT0FBTyxJQUFJLFdBQVcsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3pCLFVBQVUsQ0FBQyxRQUFRO2dCQUNuQixVQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQztnQkFDekIsVUFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUM7YUFDMUIsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELFFBQVEsQ0FBQyxLQUFLLEdBQUcsSUFBSTtZQUNuQixPQUFPLElBQUksV0FBVyxDQUFDLEtBQUssRUFBRSxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDckQsQ0FBQztRQUNELFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxFQUFFO1lBQzlCLE9BQU8sSUFBSSxXQUFXLENBQUMsS0FBSyxFQUFFO2dCQUM1QixVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQztnQkFDNUIsVUFBVSxDQUFDLFFBQVE7YUFDcEIsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELEdBQUcsQ0FBQyxLQUFLLEdBQUcsRUFBRSxFQUFFLFFBQVEsR0FBRyxJQUFJO1lBQzdCLE9BQU8sSUFBSSxXQUFXLENBQ3BCLEtBQUssRUFDTCxVQUFVLENBQUMsT0FBTyxDQUFDO2dCQUNqQixHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUMxQyxVQUFVLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUM7YUFDdkMsQ0FBQyxDQUNILENBQUM7UUFDSixDQUFDO1FBQ0QsT0FBTyxDQUFDLE9BQWUsRUFBRSxRQUFRLEdBQUcsS0FBSyxFQUFFLEtBQU07WUFDL0MsT0FBTyxJQUFJLFdBQVcsQ0FDcEIsS0FBSyxFQUNMLFVBQVUsQ0FBQyxPQUFPLENBQUM7Z0JBQ2pCLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQzFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDO2FBQzVCLENBQUMsQ0FDSCxDQUFDO1FBQ0osQ0FBQztLQUNGO0lBL0hZLGlCQUFXLGNBK0h2QixDQUFBO0FBQ0gsQ0FBQyxFQWpJZ0IsS0FBSyxLQUFMLEtBQUssUUFpSXJCO0FBQ0QsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLElBQUksS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ25ELE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRztJQUM1QixJQUFJLEVBQUUscVVBQXFVO0lBQzNVLEtBQUssRUFBRSxpREFBaUQ7SUFDeEQsT0FBTyxFQUFFLFVBQVU7SUFDbkIsSUFBSSxFQUFFLGtCQUFrQjtJQUN4QixNQUFNLEVBQUUsZUFBZTtJQUN2QixLQUFLLEVBQUUsY0FBYztJQUNyQixNQUFNLEVBQUUsOENBQThDO0lBQ3RELEdBQUcsRUFBRSxtS0FBbUs7SUFDeEssUUFBUSxFQUFFLGlCQUFpQjtJQUMzQixPQUFPLEVBQ0wsbUtBQW1LO0NBQ3RLLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBYnN0cmFjdENvbnRyb2xPcHRpb25zLFxuICBBc3luY1ZhbGlkYXRvcixcbiAgQXN5bmNWYWxpZGF0b3JGbixcbiAgRm9ybUNvbnRyb2wsXG4gIEZvcm1Hcm91cCxcbiAgVmFsaWRhdG9yRm4sXG4gIFZhbGlkYXRvcnMsXG59IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuZXhwb3J0IG5hbWVzcGFjZSBGb3JtcyB7XG4gIGV4cG9ydCBjbGFzcyBDb25maWdGb3JtcyB7XG4gICAgbWF0Y2hlcyhcbiAgICAgIGZvcm1Hcm91cDogRm9ybUdyb3VwLFxuICAgICAgZmllbGQxOiBzdHJpbmcgPSAncGFzc3dvcmQnLFxuICAgICAgZmllbGQyOiBzdHJpbmcgPSAncnBhc3N3b3JkJ1xuICAgICkge1xuICAgICAgaWYgKGZvcm1Hcm91cC5nZXQoZmllbGQxKS52YWx1ZSAhPT0gZm9ybUdyb3VwLmdldChmaWVsZDIpLnZhbHVlKSB7XG4gICAgICAgIGZvcm1Hcm91cC5nZXQoZmllbGQxKS5zZXRFcnJvcnMoeyBub01hdGNoOiB0cnVlIH0sIHsgZW1pdEV2ZW50OiB0cnVlIH0pO1xuICAgICAgICBmb3JtR3JvdXAuZ2V0KGZpZWxkMikuc2V0RXJyb3JzKHsgbm9NYXRjaDogdHJ1ZSB9LCB7IGVtaXRFdmVudDogdHJ1ZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1Hcm91cC5nZXQoZmllbGQxKS5zZXRFcnJvcnMobnVsbCwgeyBlbWl0RXZlbnQ6IHRydWUgfSk7XG4gICAgICAgIGZvcm1Hcm91cC5nZXQoZmllbGQyKS5zZXRFcnJvcnMobnVsbCwgeyBlbWl0RXZlbnQ6IHRydWUgfSk7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhmb3JtR3JvdXApO1xuICAgIH1cbiAgICBtYXRjaGVzMihmb3JtR3JvdXA6IGFueSwgZmllbGQxOiBzdHJpbmcsIGZpZWxkMjogc3RyaW5nKSB7XG4gICAgICByZXR1cm4gZm9ybUdyb3VwLmdldChmaWVsZDEpLnZhbHVlID09PSBmb3JtR3JvdXAuZ2V0KGZpZWxkMikudmFsdWVcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogeyBub01hdGNoOiB0cnVlIH07XG4gICAgfVxuICAgIGVtYWlsKHJlcXVpcmVkID0gdHJ1ZSwgdmFsdWUgPSAnJykge1xuICAgICAgcmV0dXJuIG5ldyBGb3JtQ29udHJvbChcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIFZhbGlkYXRvcnMuY29tcG9zZShbXG4gICAgICAgICAgLi4uKHJlcXVpcmVkID8gW1ZhbGlkYXRvcnMucmVxdWlyZWRdIDogW10pLFxuICAgICAgICAgIFZhbGlkYXRvcnMucGF0dGVybihjb25maWdQYXR0ZXJucy5lbWFpbCksXG4gICAgICAgIF0pXG4gICAgICApO1xuICAgIH1cbiAgICBuYW1lKHJlcXVpcmVkID0gdHJ1ZSwgbWluTGVuZ3RoID0gMiwgdmFsdWUgPSAnJykge1xuICAgICAgcmV0dXJuIG5ldyBGb3JtQ29udHJvbChcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIFZhbGlkYXRvcnMuY29tcG9zZShbXG4gICAgICAgICAgLi4uKHJlcXVpcmVkID8gW1ZhbGlkYXRvcnMucmVxdWlyZWRdIDogW10pLFxuICAgICAgICAgIFZhbGlkYXRvcnMubWluTGVuZ3RoKG1pbkxlbmd0aCksXG4gICAgICAgICAgVmFsaWRhdG9ycy5wYXR0ZXJuKGNvbmZpZ1BhdHRlcm5zLm5hbWUpLFxuICAgICAgICBdKVxuICAgICAgKTtcbiAgICB9XG4gICAgYXJyYXkocmVxdWlyZWQgPSBmYWxzZSwgdmFsdWUgPSBbXSkge1xuICAgICAgcmV0dXJuIG5ldyBGb3JtQ29udHJvbCh2YWx1ZSwgcmVxdWlyZWQgPyBbVmFsaWRhdG9ycy5yZXF1aXJlZF0gOiBbXSk7XG4gICAgfVxuICAgIGJvb2xlYW4ocmVxdWlyZWQgPSBmYWxzZSwgdmFsdWUgPSBmYWxzZSkge1xuICAgICAgcmV0dXJuIG5ldyBGb3JtQ29udHJvbCh2YWx1ZSwgcmVxdWlyZWQgPyBbVmFsaWRhdG9ycy5yZXF1aXJlZF0gOiBbXSk7XG4gICAgfVxuICAgIHVzZXJuYW1lKHJlcXVpcmVkID0gdHJ1ZSwgbWluTGVuZ3RoID0gMywgbWF4TGVuZ3RoID0gMTAsIHZhbHVlID0gJycpIHtcbiAgICAgIHJldHVybiBuZXcgRm9ybUNvbnRyb2wodmFsdWUsIFtcbiAgICAgICAgLi4uKHJlcXVpcmVkID8gW1ZhbGlkYXRvcnMucmVxdWlyZWRdIDogW10pLFxuICAgICAgICBWYWxpZGF0b3JzLm1pbkxlbmd0aChtaW5MZW5ndGgpLFxuICAgICAgICBWYWxpZGF0b3JzLm1heExlbmd0aChtYXhMZW5ndGgpLFxuICAgICAgICBWYWxpZGF0b3JzLnBhdHRlcm4oY29uZmlnUGF0dGVybnMudXNlcm5hbWUpLFxuICAgICAgXSk7XG4gICAgfVxuICAgIGRlZmF1bHQ8VCA9IGFueT4oXG4gICAgICB2YWx1ZT8sXG4gICAgICB2YWxpZGF0b3JPck9wdHM/OiBWYWxpZGF0b3JGbiB8IFZhbGlkYXRvckZuW10gfCBBYnN0cmFjdENvbnRyb2xPcHRpb25zLFxuICAgICAgYXN5bmNWYWxpZGF0b3I/OiBBc3luY1ZhbGlkYXRvckZuIHwgQXN5bmNWYWxpZGF0b3JGbltdXG4gICAgKSB7XG4gICAgICByZXR1cm4gbmV3IEZvcm1Db250cm9sPFQ+KHZhbHVlLCB2YWxpZGF0b3JPck9wdHMsIGFzeW5jVmFsaWRhdG9yKTtcbiAgICB9XG4gICAgbnVtYmVyKHJlcXVpcmVkID0gZmFsc2UsIHZhbHVlID0gbnVsbCwgbWF4TGVuZ3RoID0gMTAwMDAwKSB7XG4gICAgICByZXR1cm4gbmV3IEZvcm1Db250cm9sKHZhbHVlLCBbXG4gICAgICAgIC4uLihyZXF1aXJlZCA/IFtWYWxpZGF0b3JzLnJlcXVpcmVkXSA6IFtdKSxcbiAgICAgICAgVmFsaWRhdG9ycy5wYXR0ZXJuKGNvbmZpZ1BhdHRlcm5zLm51bWJlciksXG4gICAgICAgIFZhbGlkYXRvcnMubWF4TGVuZ3RoKG1heExlbmd0aCksXG4gICAgICBdKTtcbiAgICB9XG4gICAgaW50ZWdlcihyZXF1aXJlZCA9IHRydWUsIHZhbHVlID0gbnVsbCwgbWF4TGVuZ3RoID0gMTAwMDAwKSB7XG4gICAgICByZXR1cm4gbmV3IEZvcm1Db250cm9sKHZhbHVlLCBbXG4gICAgICAgIC4uLihyZXF1aXJlZCA/IFtWYWxpZGF0b3JzLnJlcXVpcmVkXSA6IFtdKSxcbiAgICAgICAgVmFsaWRhdG9ycy5wYXR0ZXJuKGNvbmZpZ1BhdHRlcm5zLmludGVnZXIpLFxuICAgICAgICBWYWxpZGF0b3JzLm1heExlbmd0aChtYXhMZW5ndGgpLFxuICAgICAgXSk7XG4gICAgfVxuICAgIHBvc3RhbENvZGUocmVxdWlyZWQgPSB0cnVlLCB2YWx1ZSA9IG51bGwpIHtcbiAgICAgIHJldHVybiBuZXcgRm9ybUNvbnRyb2wodmFsdWUsIFtcbiAgICAgICAgVmFsaWRhdG9ycy5wYXR0ZXJuKGNvbmZpZ1BhdHRlcm5zLnBvc3RhbCksXG4gICAgICAgIC4uLihyZXF1aXJlZCA/IFtWYWxpZGF0b3JzLnJlcXVpcmVkXSA6IFtdKSxcbiAgICAgIF0pO1xuICAgIH1cbiAgICBwaG9uZShyZXF1aXJlZCA9IHRydWUsIHZhbHVlID0gJycpIHtcbiAgICAgIHJldHVybiBuZXcgRm9ybUNvbnRyb2wodmFsdWUsIFtcbiAgICAgICAgLi4uKHJlcXVpcmVkID8gW1ZhbGlkYXRvcnMucmVxdWlyZWRdIDogW10pLFxuICAgICAgICBWYWxpZGF0b3JzLm1pbkxlbmd0aCgxMSksXG4gICAgICAgIFZhbGlkYXRvcnMucGF0dGVybihjb25maWdQYXR0ZXJucy5waG9uZSksXG4gICAgICBdKTtcbiAgICB9XG4gICAgcmVxdWlyZWRNaW5MZW5ndGgobGVuZ3RoOiBudW1iZXIsIHZhbHVlID0gJycpIHtcbiAgICAgIHJldHVybiBuZXcgRm9ybUNvbnRyb2wodmFsdWUsIFtcbiAgICAgICAgVmFsaWRhdG9ycy5yZXF1aXJlZCxcbiAgICAgICAgVmFsaWRhdG9ycy5taW5MZW5ndGgobGVuZ3RoKSxcbiAgICAgIF0pO1xuICAgIH1cbiAgICByZXF1aXJlZE1pbk1heExlbmd0aChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpIHtcbiAgICAgIHJldHVybiBuZXcgRm9ybUNvbnRyb2woJycsIFtcbiAgICAgICAgVmFsaWRhdG9ycy5yZXF1aXJlZCxcbiAgICAgICAgVmFsaWRhdG9ycy5taW5MZW5ndGgobWluKSxcbiAgICAgICAgVmFsaWRhdG9ycy5tYXhMZW5ndGgobWF4KSxcbiAgICAgIF0pO1xuICAgIH1cbiAgICByZXF1aXJlZCh2YWx1ZSA9IG51bGwpIHtcbiAgICAgIHJldHVybiBuZXcgRm9ybUNvbnRyb2wodmFsdWUsIFZhbGlkYXRvcnMucmVxdWlyZWQpO1xuICAgIH1cbiAgICBtaW5MZW5ndGgobGVuZ3RoID0gMywgdmFsdWUgPSAnJykge1xuICAgICAgcmV0dXJuIG5ldyBGb3JtQ29udHJvbCh2YWx1ZSwgW1xuICAgICAgICBWYWxpZGF0b3JzLm1pbkxlbmd0aChsZW5ndGgpLFxuICAgICAgICBWYWxpZGF0b3JzLnJlcXVpcmVkLFxuICAgICAgXSk7XG4gICAgfVxuICAgIHVybCh2YWx1ZSA9ICcnLCByZXF1aXJlZCA9IHRydWUpIHtcbiAgICAgIHJldHVybiBuZXcgRm9ybUNvbnRyb2woXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBWYWxpZGF0b3JzLmNvbXBvc2UoW1xuICAgICAgICAgIC4uLihyZXF1aXJlZCA/IFtWYWxpZGF0b3JzLnJlcXVpcmVkXSA6IFtdKSxcbiAgICAgICAgICBWYWxpZGF0b3JzLnBhdHRlcm4oY29uZmlnUGF0dGVybnMudXJsKSxcbiAgICAgICAgXSlcbiAgICAgICk7XG4gICAgfVxuICAgIHBhdHRlcm4ocGF0dGVybjogUmVnRXhwLCByZXF1aXJlZCA9IGZhbHNlLCB2YWx1ZT8pIHtcbiAgICAgIHJldHVybiBuZXcgRm9ybUNvbnRyb2woXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBWYWxpZGF0b3JzLmNvbXBvc2UoW1xuICAgICAgICAgIC4uLihyZXF1aXJlZCA/IFtWYWxpZGF0b3JzLnJlcXVpcmVkXSA6IFtdKSxcbiAgICAgICAgICBWYWxpZGF0b3JzLnBhdHRlcm4ocGF0dGVybiksXG4gICAgICAgIF0pXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IGNvbnN0IGNvbmZpZ0Zvcm1zID0gbmV3IEZvcm1zLkNvbmZpZ0Zvcm1zKCk7XG5leHBvcnQgY29uc3QgY29uZmlnUGF0dGVybnMgPSB7XG4gIGRhdGU6IC9eKD86KD86MzEoXFwvfC18XFwuKSg/OjA/WzEzNTc4XXwxWzAyXSkpXFwxfCg/Oig/OjI5fDMwKShcXC98LXxcXC4pKD86MD9bMTMtOV18MVswLTJdKVxcMikpKD86KD86MVs2LTldfFsyLTldXFxkKT9cXGR7Mn0pJHxeKD86MjkoXFwvfC18XFwuKTA/MlxcMyg/Oig/Oig/OjFbNi05XXxbMi05XVxcZCk/KD86MFs0OF18WzI0NjhdWzA0OF18WzEzNTc5XVsyNl0pfCg/Oig/OjE2fFsyNDY4XVswNDhdfFszNTc5XVsyNl0pMDApKSkpJHxeKD86MD9bMS05XXwxXFxkfDJbMC04XSkoXFwvfC18XFwuKSg/Oig/OjA/WzEtOV0pfCg/OjFbMC0yXSkpXFw0KD86KD86MVs2LTldfFsyLTldXFxkKT9cXGR7Mn0pJC8sXG4gIGVtYWlsOiAvXlthLXpBLVowLTlfListXStAW2EtekEtWjAtOS1dKy5bYS16QS1aMC05LS5dKyQvLFxuICBpbnRlZ2VyOiAvXlswLTldKyQvLFxuICBuYW1lOiAvXlthLXpBLVowLTktIF0rJC8sXG4gIG51bWJlcjogL14tP1swLTksXFwuXSskLyxcbiAgcGhvbmU6IC9eWytdKlswLTldKyQvLFxuICBwb3N0YWw6IC9eKFswLTldezV9KShbXFwtXXsxfVswLTldezR9KT8kfF4oWzAtOV17Nn0pPyQvLFxuICB1cmw6IC8oKChbQS1aYS16XXszLDl9Oig/OlxcL1xcLyk/KSg/OlstOzomPVxcK1xcJCxcXHddK0ApP1tBLVphLXowLTkuLV0rfCg/Ond3dy58Wy07OiY9XFwrXFwkLFxcd10rQClbQS1aYS16MC05Li1dKykoKD86XFwvW1xcK34lXFwvLlxcdy1fXSopP1xcPz8oPzpbLVxcKz0mOyVALlxcd19dKikjPyg/OltcXHddKikpPykvLFxuICB1c2VybmFtZTogL15bYS16QS1aMC05LV0rJC8sXG4gIHdlYnNpdGU6XG4gICAgLygoKFtBLVphLXpdezMsOX06KD86XFwvXFwvKT8pKD86Wy07OiY9XFwrXFwkLFxcd10rQCk/W0EtWmEtejAtOS4tXSt8KD86d3d3LnxbLTs6Jj1cXCtcXCQsXFx3XStAKVtBLVphLXowLTkuLV0rKSgoPzpcXC9bXFwrfiVcXC8uXFx3LV9dKik/XFw/Pyg/OlstXFwrPSY7JUAuXFx3X10qKSM/KD86W1xcd10qKSk/KS8sXG59O1xuIl19