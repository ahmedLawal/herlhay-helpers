import { Component, Input, ViewChild, } from '@angular/core';
import { FormControl, FormGroup } from '@angular/forms';
import { MatTableModule } from '@angular/material/table';
import { cloneDeep } from 'lodash-es';
import { BehaviorSubject, merge, of as observableOf, of, ReplaySubject, } from 'rxjs';
import { catchError, filter, map, startWith, switchMap, tap, } from 'rxjs/operators';
import { TablePlainComponent } from '../table-plain/table-plain.component';
import { FunctionCaller1, FunctionCaller2, ToAnyPipe, ValueOrXPipe } from '../../pipes/utility.pipe';
import { GetColFormattedPipe, GetRawFieldsPipe, TableToStringPipe } from '../table-plain/table.pipe';
import { ResponsivenessDirective, hideMobileDirective, hideDesktopDirective } from '../../directives/responsiveness.directive';
import { MatPaginatorModule } from '@angular/material/paginator';
import { MatIconModule } from '@angular/material/icon';
import { MiniSearchListComponent } from '../mini-search-list/mini-search-list.component';
import { MatMenuModule } from '@angular/material/menu';
import { MatTooltipModule } from '@angular/material/tooltip';
import { BtnComponent } from '../btn/btn.component';
import { ImageLoaderDirective } from '../../directives/image-loader.directive';
import { MatCheckboxModule } from '@angular/material/checkbox';
import { LoaderComponent } from '../loader/loader.component';
import { NgIf, NgClass, NgFor, NgSwitch, NgSwitchCase, NgSwitchDefault, AsyncPipe, TitleCasePipe } from '@angular/common';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "../../../services/utility.service";
import * as i3 from "@angular/material/table";
import * as i4 from "@angular/material/checkbox";
import * as i5 from "@angular/material/tooltip";
import * as i6 from "@angular/material/menu";
import * as i7 from "@angular/material/icon";
import * as i8 from "@angular/material/paginator";
export class TableHttpsComponent extends TablePlainComponent {
    set _queryData(v) {
        this.queryData = v;
    }
    constructor(route, uS) {
        super(uS);
        this.route = route;
        this.uS = uS;
        this.pageNumber = 0;
        this.isLoadingResults = true;
        this.isRateLimitReached = false;
        this.fetchedData = new BehaviorSubject(null);
        this.form2 = new FormGroup({
            page: new FormControl(1),
            sortByField: new FormControl(),
            sortByDirection: new FormControl(this.orderDirection == 'asc'
                ? 'ASC'
                : this.orderDirection == 'desc'
                    ? 'DESC'
                    : ''),
            limit: new FormControl(),
        });
        this.searchTrigger = new ReplaySubject();
    }
    ngOnInit() {
        super.ngOnInit();
    }
    ngAfterViewInit() {
        this.queryData = this.queryData || {};
        // this.queryData = this.queryData || this.route.snapshot.queryParams;
        // debugger;
        this.paginator.page.subscribe((r) => {
            this.form2.patchValue({
                page: r.pageIndex + 1,
                limit: r.pageSize,
            });
        });
        this.sort?.sortChange.subscribe((r) => {
            this.form2.patchValue({
                sortByDirection: r.direction,
                sortByField: r.active,
            });
        });
        // this.searchTrigger.subscribe(r=>{
        //   console.log(r)
        // })
        this.filteredAndPagedResults = merge(this.form2.valueChanges, this.searchTrigger).pipe(startWith({}), filter(() => !!this.observableFunc), switchMap(() => {
            this.isLoadingResults = true;
            const queryData = this.queryData;
            const pageValues = this.form2.value;
            if (!pageValues.limit)
                pageValues.limit = this.paginator?.pageSize || this.pageSize;
            this.allQuery = {
                ...queryData,
                ...pageValues,
            };
            // debugger;
            return this.observableFunc(this.allQuery);
        }), catchError((e) => of(null)), tap((r) => this.selection.clear()), map((data) => {
            // Flip flag to show that loading has finished.
            // debugger;
            // debugger;
            console.log(data);
            this.isLoadingResults = false;
            this.isRateLimitReached = false;
            this.resultsLength = data?.total;
            this.data = data?.data || [];
            this.fetchedData.next(this.data);
            // debugger
            return data?.data;
        }), catchError((e) => {
            console.error(e);
            this.isLoadingResults = false;
            this.isRateLimitReached = true;
            return observableOf([]);
        }));
        this.filteredAndPagedResults.subscribe();
    }
    search(query) {
        this.queryData = query || this.queryData;
        // this.form.controls.pageNumber.patchValue(0);
        this.resetPaging();
        this.searchTrigger.next(true);
    }
    /** Whether the number of selected elements matches the total number of rows. */
    isAllSelected() {
        const numSelected = this.selection?.selected?.length;
        const numRows = this.data?.length;
        return numSelected === numRows;
    }
    /** Selects all rows if they are not all selected; otherwise clear selection. */
    masterToggle() {
        if (this.isAllSelected()) {
            this.selection.clear();
            return;
        }
        this.selection.select(...this.data);
    }
    resetPaging() {
        this.paginator.pageIndex = 0;
        this.form2.patchValue({ page: 1 }, { emitEvent: false });
    }
    reset() { }
    refresh() {
        this.search();
    }
    setData(d) {
        this.data = cloneDeep(d);
        // this.table.renderRows();
    }
    increasePageSize() {
        // debugger
        if (this.resultsLength <= this.paginator.pageSize)
            return;
        this.paginator._changePageSize(this.paginator.pageSize + this.pageSizeIncrementor);
    }
    resetPageSize() {
        this.paginator._changePageSize(this.pageSize);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.0.2", ngImport: i0, type: TableHttpsComponent, deps: [{ token: i1.ActivatedRoute }, { token: i2.UtilityService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.0.2", type: TableHttpsComponent, isStandalone: true, selector: "table-https", inputs: { header: "header", noDataSubTitle: "noDataSubTitle", headerBtns: "headerBtns", _queryData: ["queryData", "_queryData"], observableFunc: "observableFunc", pageNumber: "pageNumber" }, viewQueries: [{ propertyName: "table", first: true, predicate: ["table"], descendants: true }], usesInheritance: true, ngImport: i0, template: "<div class=\"h-100 \">\n  <div class=\"d-flex align-items-center justify-content-between mb-3\" *ngIf=\"header||headerBtns\">\n    <div class=\"title\">\n      {{header}}\n    </div>\n  </div>\n  <loader class=\"h-100\" [loading]=\"isLoadingResults\" [height]=\"container?.offsetHeight+100\"\n    [hasContent]=\"!!data?.length\">\n    <div class=\"table-container\" content #container>\n      <div class=\"overflow-auto \">\n        <table mat-table [dataSource]=\"data\" class=\"w-100 d-table\" [ngClass]=\"{smallerFonts,nowrap,centerCells,curvy}\"\n          #table>\n          <!-- Checkbox Column -->\n          <ng-container matColumnDef=\"mselect\" sticky>\n            <th mat-header-cell *matHeaderCellDef>\n              <mat-checkbox class=\"circle-checkbox\" (change)=\"$event ? masterToggle() : null\"\n                [checked]=\"selection.hasValue() && isAllSelected()\"\n                [indeterminate]=\"selection.hasValue() && !isAllSelected()\" [aria-label]=\"checkboxLabel()\">\n              </mat-checkbox>\n            </th>\n            <td mat-cell *matCellDef=\"let row\">\n              <mat-checkbox class=\"circle-checkbox\" (click)=\"$event.stopPropagation()\"\n                (change)=\"$event ? selection.toggle(row) : null\" [checked]=\"selection.isSelected(row)\"\n                [aria-label]=\"checkboxLabel(row)\">\n              </mat-checkbox>\n            </td>\n          </ng-container>\n\n          <!-- COLUMNS -->\n          <ng-container *ngFor=\"let col of displayedColumns; let i = index\">\n            <ng-container [ngSwitch]=\"col.type\">\n              <!-- IMAGE -->\n              <ng-container *ngSwitchCase=\"'image'\" matColumnDef=\"{{ col.f|toAny }}\">\n                <th mat-header-cell *matHeaderCellDef>\n                  {{ col.t|titlecase}}\n                </th>\n                <td mat-cell *matCellDef=\"let row\">\n                  <img [imageLoader]=\"row[col.f]\" alt=\"{{col.f}} image\" class=\"{{col.itemClass}}\">\n                </td>\n              </ng-container>\n              <!--// -->\n\n              <!-- Button -->\n              <ng-container *ngSwitchCase=\"'button'\" matColumnDef=\"{{ col.f|toAny }}\">\n                <th mat-header-cell *matHeaderCellDef>\n                  {{ col.t|titlecase}}\n                </th>\n                <td mat-cell *matCellDef=\"let row\" class=\"btn-cell\">\n                  <app-btn [icon]=\"col.btn?.icon\" [type]=\"col.btn?.type\" (mclick)=\"clickBtn(col,row)\"\n                    [help]=\"col.btn?.help\" [text]=\"col.btn?.label\" [loading]=\"col.btn?.loading\"\n                    [iconBtn]=\"col.btn?.iconBtn\" mclass=\"w-auto\" [disabled]=\"col.btn?.disabled || col.btn?.loading\">\n                  </app-btn>\n                </td>\n              </ng-container>\n              <!--// -->\n\n              <!-- ACTION COLUMNS -->\n              <ng-container [sticky]=\"col.isSticky\" [stickyEnd]=\"col.isStickyEnd\" matColumnDef=\"{{ col.f|toAny }}\"\n                *ngSwitchCase=\"'btns'\">\n                <th mat-header-cell *matHeaderCellDef class=\"btn-cell\">\n                  {{ col.t | titlecase }}\n                </th>\n                <td mat-cell *matCellDef=\"let row;let i=index\" class=\"btn-cell\">\n                  <div class=\"d-flex col-md-auto col-sm-auto \">\n\n                    <div class=\"mx-2\" *ngFor=\"let button of col.buttons\">\n                      <app-btn [icon]=\"button.icon\" [help]=\"button.help\" [showHelpIcon]=\"button.showHelpIcon\"\n                        [type]=\"button.type\" [group]=\"button.group\" [iconBtn]=\"true\" mclass=\"w-auto\"\n                        (mclick)=\"button.action(row,i)\"></app-btn>\n                    </div>\n\n\n\n                  </div>\n                </td>\n              </ng-container>\n\n              <!-- Sub Table -->\n              <ng-container [sticky]=\"col.isSticky\" *ngSwitchCase=\"'table'\" matColumnDef=\"{{ col.f|toAny }}\">\n                <th mat-header-cell *matHeaderCellDef>\n                  {{ col.t|titlecase}}\n                </th>\n                <td mat-cell *matCellDef=\"let row\">\n                  <app-btn [icon]=\"col.btn?.icon\" type=\"dark\" (mclick)=\"col.action ? col.action(row, col.f) : null\"\n                    [help]=\"col.subTable|tableToString:row| async\" [showHelpIcon]=\"false\" [iconBtn]=\"true\"\n                    mclass=\"w-auto\">\n                  </app-btn>\n                </td>\n              </ng-container>\n              <!--// -->\n\n              <!-- ASSIGN FROM LIST -->\n              <ng-container [sticky]=\"col.isSticky\" matColumnDef=\"{{ col.f|toAny }}\" *ngSwitchCase=\"'assign-from-list'\">\n                <th mat-header-cell *matHeaderCellDef disableClear>\n                  {{formatColumnHeaders?(col.t|titlecase):col.t }}</th>\n                <td mat-cell *matCellDef=\"let row;let rowIndex = index\">\n                  <ng-container *ngIf=\"(row|getColFormatted:col)|async as val; else elseTemplate\">\n                    <div class=\"cell {{col.itemClassFunc|functionCaller1:row}} \"\n                      [ngClass]=\"{pointer:col.action,link:col.action}\" (click)=\"col.action?col.action(row,col.f):null\"\n                      [matTooltip]=\"val\" #ele [matTooltipDisabled]=\"ele.scrollWidth<=ele.offsetWidth\"\n                      [innerHTML]=\"val|valueOrX\">\n                    </div>\n                  </ng-container>\n                  <ng-template #elseTemplate>\n                    <div [matMenuTriggerFor]=\"assignList\" class=\"text-primary pointer\" \n                      #assignTag>\n                      Assign\n                    </div>\n                    <mat-menu #assignList=\"matMenu\" class=\"\">\n                      <mini-search-list (click)=\"$event.stopPropagation()\" #mslTag (done)=\"col.onSelected($event,row,rowIndex)\"\n                        [list]=\"(col.listingFunction|functionCaller1:row)|async\"\n                        [header]=\"formatColumnHeaders?(col.t|titlecase):col.t\" />\n                    </mat-menu>\n                  </ng-template>\n\n\n                </td>\n              </ng-container>\n              <!--// -->\n\n              <!-- DEFAULT -->\n              <ng-container [sticky]=\"col.isSticky\" matColumnDef=\"{{ col.f|toAny }}\" *ngSwitchDefault>\n                <th mat-header-cell *matHeaderCellDef disableClear>\n                  {{formatColumnHeaders?(col.t|titlecase):col.t }}</th>\n                <td mat-cell *matCellDef=\"let row\">\n                  <ng-container *ngIf=\"col.routeFormatter; else elseNoRouteTemplate\">\n                    <div class=\"cell {{col.itemClassFunc|functionCaller1:row}} \"\n                      [ngClass]=\"{pointer:col.action,link:col.action}\" (click)=\"col.action?col.action(row,col.f):null\"\n                      [matTooltip]=\"(row|getColFormatted:col)|async\" #ele\n                      [matTooltipDisabled]=\"ele.scrollWidth<=ele.offsetWidth\"\n                      [innerHTML]=\"((row|getColFormatted:col)|async)|valueOrX\">\n                    </div>\n                  </ng-container>\n                  <ng-template #elseNoRouteTemplate>\n                    <div class=\"cell {{col.itemClassFunc|functionCaller1:row}} \"\n                      [ngClass]=\"{pointer:col.action,link:col.action}\" (click)=\"col.action?col.action(row,col.f):null\"\n                      [matTooltip]=\"(row|getColFormatted:col)|async\" #ele\n                      [matTooltipDisabled]=\"ele.scrollWidth<=ele.offsetWidth\"\n                      [innerHTML]=\"((row|getColFormatted:col)|async)|valueOrX\">\n                    </div>\n                  </ng-template>\n\n\n                </td>\n              </ng-container>\n              <!--// -->\n            </ng-container>\n          </ng-container>\n          <!--// -->\n          <!-- OPTIONS COLUMN -->\n          <ng-container matColumnDef=\"option\" *ngIf=\"options?.length>0||optionsMap\" stickyEnd>\n            <th mat-header-cell class=\"lastStickyItem w-auto\" *matHeaderCellDef disableClear></th>\n            <td mat-cell class=\"lastStickyItem w-auto\" *matCellDef=\"let row\">\n              <ng-container *ngIf=\"optionsMap; else elseOptionsTemplate\">\n                <ng-container *ngIf=\"(optionsMap|functionCaller1:row) as _rowoptions\">\n                  <app-btn type=\"clear\" [matMenuTriggerFor]=\"menu\" class=\"btn ms-2\">\n                    <mat-icon>more_vert</mat-icon>\n                  </app-btn>\n                  <mat-menu #menu=\"matMenu\">\n                    <button mat-menu-item *ngFor=\"let option of _rowoptions\" (click)=\"option.action(row)\">\n                      {{optionLabeller|functionCaller2:option:row}}\n                    </button>\n                  </mat-menu>\n                </ng-container>\n              </ng-container>\n              <ng-template #elseOptionsTemplate>\n                <app-btn type=\"clear\" [matMenuTriggerFor]=\"menu\" class=\"btn ms-2\">\n                  <mat-icon>more_vert</mat-icon>\n                </app-btn>\n                <mat-menu #menu=\"matMenu\">\n                  <button mat-menu-item *ngFor=\"let option of options\" (click)=\"option.action(row)\">\n                    {{optionLabeller|functionCaller2:option:row}}\n                  </button>\n                </mat-menu>\n              </ng-template>\n            </td>\n          </ng-container>\n          <!--// -->\n\n\n\n          <ng-container *ngIf=\"displayedColumns|getRawFields:(!!options?.length||!!optionsMap):useSelection as dcols\">\n            <tr mat-header-row *matHeaderRowDef=\"dcols\"></tr>\n            <tr mat-row *matRowDef=\"let row; columns: dcols\"\n              [ngClass]=\"{pointer:showRowPointer,selected:selection.isSelected(row),disabled:isDisabledFunc?isDisabledFunc(row):false}\"\n              [matTooltip]=\"isDisabledFunc&&isDisabledFunc(row)?'Disabled':null\" (click)=\"rowClick(row)\"></tr>\n            <tr class=\"mat-row\" *matNoDataRow>\n              <td class=\"mat-cell\" [attr.colspan]=\"dcols?.length||1\">{{noItemTxt}}</td>\n            </tr>\n          </ng-container>\n        </table>\n      </div>\n\n\n      <mat-paginator mresponsiveness [hideMobile]=\"true\" [length]=\"resultsLength\" [pageSizeOptions]=\"pageSizeOptions\"\n        [pageSize]=\"pageSize\" showFirstLastButtons />\n\n      <div class=\"  \" mresponsiveness [hideDesktop]=\"true\">\n        <div class=\" d-flex justify-content-center\">\n          <app-btn text=\"See more\" type=\"clear-pm\" (mclick)=\"increasePageSize()\"\n            *ngIf=\"resultsLength>paginator?.pageSize;else showLess\" />\n          <ng-template #showLess>\n            <app-btn text=\"See less\" type=\"clear-pm\" (mclick)=\"resetPageSize()\" />\n          </ng-template>\n        </div>\n      </div>\n\n    </div>\n    <div class=\"h-100 center text-center noContent\" noContent>\n      <div class=\"\">\n        <div class=\"title\"> No data\n        </div>\n        <div class=\"sub-title\">\n          {{noDataSubTitle}}\n        </div>\n      </div>\n    </div>\n  </loader>\n</div>", styles: ["::ng-deep mat-paginator .mat-mdc-form-field{width:100px;height:25px;margin-top:0;margin-bottom:0;background-color:transparent!important;border:none}::ng-deep mat-paginator .mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mat-mdc-form-field-infix{height:auto;padding:0;color:var(--primary)}::ng-deep .mdc-data-table__header-cell{color:#333!important;background-color:transparent!important;font-style:normal;font-weight:600;font-size:14px;line-height:19px}::ng-deep mat-paginator{border-radius:0 0 16px 16px}::ng-deep .mat-mdc-table{background:rgba(255,255,255,0)}::ng-deep .mat-mdc-table .mat-mdc-row:hover,::ng-deep .mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}::ng-deep .mat-mdc-table .mat-mdc-row.selected:hover,::ng-deep .mat-mdc-table .mat-mdc-footer-row.selected:hover{background-color:#f0f6ff}::ng-deep th.mat-mdc-table-sticky,::ng-deep td.mat-mdc-table-sticky{background-color:#fff!important}::ng-deep .colour{height:15px;width:15px;display:inline-block;border-radius:5px}::ng-deep .centerCells .mat-sort-header-container{justify-content:center}::ng-deep .default.colour{background-color:#545454}::ng-deep .btn-cell{width:1%}::ng-deep .mat-sort-header-container{height:40px}.mat-header-cell{font-weight:600;font-size:14px;line-height:21px}.smallerFonts td,.smallerFonts th{font-size:.7rem}.nowrap td,.nowrap th{white-space:nowrap;text-align:left;padding:0 24px;border-radius:16px}.nowrap td{border-radius:0}:host ::ng-deep input[type=checkbox]:not(.form-control){border:1px solid rgba(80,78,245,.3019607843)}.table tr td:hover{color:unset!important;text-decoration:unset;cursor:unset}tr.mat-header-row{height:auto}.centerCells td{text-align:center}.curvy tr{border-radius:0 10px}.title{font-style:normal;font-weight:600;font-size:24px;line-height:29px;color:#333}.table-container{background:#ffffff;border:1px solid #e0e0e0;box-shadow:none;border-radius:16px}.table-container .mat-paginator,.table-container .mat-table{background:transparent}.mat-header-cell{color:#333;background-color:transparent}.cell.notLink:hover{color:inherit}.cell{text-overflow:ellipsis;display:block;white-space:nowrap;overflow:hidden;font-style:normal;font-weight:400;font-size:14px;line-height:19px;color:#333}.noContent .title{font-style:normal;font-weight:600;font-size:14px;line-height:18px;text-align:center;color:#266dd3}.noContent .sub-title{font-style:normal;font-weight:400;font-size:12px;line-height:18px;text-align:center;width:206px;color:#828282}.table{border:1px solid #f2f2f2;border-radius:16px}.selected{background:#f0f6ff;background-color:#f0f6ff}.disabled .cell{font-style:normal;font-weight:400;font-size:14px;line-height:19px;color:#bdbdbd}.lastStickyItem{padding:0!important;background-image:linear-gradient(270deg,rgb(255,255,255),rgba(255,255,255,.7490196078))!important;border-radius:0!important}th.lastStickyItem{background:transparent!important}.link{color:var(--primary)}\n"], dependencies: [{ kind: "directive", type: NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: LoaderComponent, selector: "loader", inputs: ["class", "text", "hasContent", "loading", "height"] }, { kind: "ngmodule", type: MatTableModule }, { kind: "component", type: i3.MatTable, selector: "mat-table, table[mat-table]", exportAs: ["matTable"] }, { kind: "directive", type: i3.MatHeaderCellDef, selector: "[matHeaderCellDef]" }, { kind: "directive", type: i3.MatHeaderRowDef, selector: "[matHeaderRowDef]", inputs: ["matHeaderRowDef", "matHeaderRowDefSticky"] }, { kind: "directive", type: i3.MatColumnDef, selector: "[matColumnDef]", inputs: ["sticky", "matColumnDef"] }, { kind: "directive", type: i3.MatCellDef, selector: "[matCellDef]" }, { kind: "directive", type: i3.MatRowDef, selector: "[matRowDef]", inputs: ["matRowDefColumns", "matRowDefWhen"] }, { kind: "directive", type: i3.MatHeaderCell, selector: "mat-header-cell, th[mat-header-cell]" }, { kind: "directive", type: i3.MatCell, selector: "mat-cell, td[mat-cell]" }, { kind: "component", type: i3.MatHeaderRow, selector: "mat-header-row, tr[mat-header-row]", exportAs: ["matHeaderRow"] }, { kind: "component", type: i3.MatRow, selector: "mat-row, tr[mat-row]", exportAs: ["matRow"] }, { kind: "directive", type: i3.MatNoDataRow, selector: "ng-template[matNoDataRow]" }, { kind: "directive", type: NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "ngmodule", type: MatCheckboxModule }, { kind: "component", type: i4.MatCheckbox, selector: "mat-checkbox", inputs: ["disableRipple", "color", "tabIndex"], exportAs: ["matCheckbox"] }, { kind: "directive", type: NgFor, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: NgSwitch, selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { kind: "directive", type: NgSwitchCase, selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }, { kind: "directive", type: ImageLoaderDirective, selector: "[imageLoader]", inputs: ["imageLoader", "imgType"] }, { kind: "component", type: BtnComponent, selector: "app-btn,btn", inputs: ["formSchema", "icon", "type", "group", "actionType", "animate", "badge", "class", "customIcon", "disabled", "form", "help", "iconBtn", "lite", "loading", "mclass", "showHelpIcon", "mini", "text", "valid", "subButtons", "onFormInvalid"], outputs: ["mclick"] }, { kind: "ngmodule", type: MatTooltipModule }, { kind: "directive", type: i5.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { kind: "ngmodule", type: MatMenuModule }, { kind: "component", type: i6.MatMenu, selector: "mat-menu", exportAs: ["matMenu"] }, { kind: "component", type: i6.MatMenuItem, selector: "[mat-menu-item]", inputs: ["disabled", "disableRipple", "role"], exportAs: ["matMenuItem"] }, { kind: "directive", type: i6.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", exportAs: ["matMenuTrigger"] }, { kind: "component", type: MiniSearchListComponent, selector: "mini-search-list", inputs: ["list", "labelField", "valueField", "header"], outputs: ["done"] }, { kind: "directive", type: NgSwitchDefault, selector: "[ngSwitchDefault]" }, { kind: "ngmodule", type: MatIconModule }, { kind: "component", type: i7.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "ngmodule", type: MatPaginatorModule }, { kind: "component", type: i8.MatPaginator, selector: "mat-paginator", inputs: ["disabled"], exportAs: ["matPaginator"] }, { kind: "directive", type: ResponsivenessDirective, selector: "[mresponsiveness]", inputs: ["mobileClass", "desktopClass", "hideMobile", "hideDesktop"] }, { kind: "directive", type: hideMobileDirective, selector: "[hideMobile]" }, { kind: "directive", type: hideDesktopDirective, selector: "[hideDesktop]" }, { kind: "pipe", type: AsyncPipe, name: "async" }, { kind: "pipe", type: TitleCasePipe, name: "titlecase" }, { kind: "pipe", type: GetColFormattedPipe, name: "getColFormatted" }, { kind: "pipe", type: GetRawFieldsPipe, name: "getRawFields" }, { kind: "pipe", type: TableToStringPipe, name: "tableToString" }, { kind: "pipe", type: FunctionCaller1, name: "functionCaller1" }, { kind: "pipe", type: FunctionCaller2, name: "functionCaller2" }, { kind: "pipe", type: ToAnyPipe, name: "toAny" }, { kind: "pipe", type: ValueOrXPipe, name: "valueOrX" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.0.2", ngImport: i0, type: TableHttpsComponent, decorators: [{
            type: Component,
            args: [{ selector: 'table-https', standalone: true, imports: [
                        NgIf,
                        LoaderComponent,
                        MatTableModule,
                        NgClass,
                        MatCheckboxModule,
                        NgFor,
                        NgSwitch,
                        NgSwitchCase,
                        ImageLoaderDirective,
                        BtnComponent,
                        MatTooltipModule,
                        MatMenuModule,
                        MiniSearchListComponent,
                        NgSwitchDefault,
                        MatIconModule,
                        MatPaginatorModule,
                        ResponsivenessDirective,
                        hideMobileDirective,
                        hideDesktopDirective,
                        AsyncPipe,
                        TitleCasePipe,
                        GetColFormattedPipe,
                        GetRawFieldsPipe,
                        TableToStringPipe,
                        FunctionCaller1,
                        FunctionCaller2,
                        ToAnyPipe,
                        ValueOrXPipe,
                    ], template: "<div class=\"h-100 \">\n  <div class=\"d-flex align-items-center justify-content-between mb-3\" *ngIf=\"header||headerBtns\">\n    <div class=\"title\">\n      {{header}}\n    </div>\n  </div>\n  <loader class=\"h-100\" [loading]=\"isLoadingResults\" [height]=\"container?.offsetHeight+100\"\n    [hasContent]=\"!!data?.length\">\n    <div class=\"table-container\" content #container>\n      <div class=\"overflow-auto \">\n        <table mat-table [dataSource]=\"data\" class=\"w-100 d-table\" [ngClass]=\"{smallerFonts,nowrap,centerCells,curvy}\"\n          #table>\n          <!-- Checkbox Column -->\n          <ng-container matColumnDef=\"mselect\" sticky>\n            <th mat-header-cell *matHeaderCellDef>\n              <mat-checkbox class=\"circle-checkbox\" (change)=\"$event ? masterToggle() : null\"\n                [checked]=\"selection.hasValue() && isAllSelected()\"\n                [indeterminate]=\"selection.hasValue() && !isAllSelected()\" [aria-label]=\"checkboxLabel()\">\n              </mat-checkbox>\n            </th>\n            <td mat-cell *matCellDef=\"let row\">\n              <mat-checkbox class=\"circle-checkbox\" (click)=\"$event.stopPropagation()\"\n                (change)=\"$event ? selection.toggle(row) : null\" [checked]=\"selection.isSelected(row)\"\n                [aria-label]=\"checkboxLabel(row)\">\n              </mat-checkbox>\n            </td>\n          </ng-container>\n\n          <!-- COLUMNS -->\n          <ng-container *ngFor=\"let col of displayedColumns; let i = index\">\n            <ng-container [ngSwitch]=\"col.type\">\n              <!-- IMAGE -->\n              <ng-container *ngSwitchCase=\"'image'\" matColumnDef=\"{{ col.f|toAny }}\">\n                <th mat-header-cell *matHeaderCellDef>\n                  {{ col.t|titlecase}}\n                </th>\n                <td mat-cell *matCellDef=\"let row\">\n                  <img [imageLoader]=\"row[col.f]\" alt=\"{{col.f}} image\" class=\"{{col.itemClass}}\">\n                </td>\n              </ng-container>\n              <!--// -->\n\n              <!-- Button -->\n              <ng-container *ngSwitchCase=\"'button'\" matColumnDef=\"{{ col.f|toAny }}\">\n                <th mat-header-cell *matHeaderCellDef>\n                  {{ col.t|titlecase}}\n                </th>\n                <td mat-cell *matCellDef=\"let row\" class=\"btn-cell\">\n                  <app-btn [icon]=\"col.btn?.icon\" [type]=\"col.btn?.type\" (mclick)=\"clickBtn(col,row)\"\n                    [help]=\"col.btn?.help\" [text]=\"col.btn?.label\" [loading]=\"col.btn?.loading\"\n                    [iconBtn]=\"col.btn?.iconBtn\" mclass=\"w-auto\" [disabled]=\"col.btn?.disabled || col.btn?.loading\">\n                  </app-btn>\n                </td>\n              </ng-container>\n              <!--// -->\n\n              <!-- ACTION COLUMNS -->\n              <ng-container [sticky]=\"col.isSticky\" [stickyEnd]=\"col.isStickyEnd\" matColumnDef=\"{{ col.f|toAny }}\"\n                *ngSwitchCase=\"'btns'\">\n                <th mat-header-cell *matHeaderCellDef class=\"btn-cell\">\n                  {{ col.t | titlecase }}\n                </th>\n                <td mat-cell *matCellDef=\"let row;let i=index\" class=\"btn-cell\">\n                  <div class=\"d-flex col-md-auto col-sm-auto \">\n\n                    <div class=\"mx-2\" *ngFor=\"let button of col.buttons\">\n                      <app-btn [icon]=\"button.icon\" [help]=\"button.help\" [showHelpIcon]=\"button.showHelpIcon\"\n                        [type]=\"button.type\" [group]=\"button.group\" [iconBtn]=\"true\" mclass=\"w-auto\"\n                        (mclick)=\"button.action(row,i)\"></app-btn>\n                    </div>\n\n\n\n                  </div>\n                </td>\n              </ng-container>\n\n              <!-- Sub Table -->\n              <ng-container [sticky]=\"col.isSticky\" *ngSwitchCase=\"'table'\" matColumnDef=\"{{ col.f|toAny }}\">\n                <th mat-header-cell *matHeaderCellDef>\n                  {{ col.t|titlecase}}\n                </th>\n                <td mat-cell *matCellDef=\"let row\">\n                  <app-btn [icon]=\"col.btn?.icon\" type=\"dark\" (mclick)=\"col.action ? col.action(row, col.f) : null\"\n                    [help]=\"col.subTable|tableToString:row| async\" [showHelpIcon]=\"false\" [iconBtn]=\"true\"\n                    mclass=\"w-auto\">\n                  </app-btn>\n                </td>\n              </ng-container>\n              <!--// -->\n\n              <!-- ASSIGN FROM LIST -->\n              <ng-container [sticky]=\"col.isSticky\" matColumnDef=\"{{ col.f|toAny }}\" *ngSwitchCase=\"'assign-from-list'\">\n                <th mat-header-cell *matHeaderCellDef disableClear>\n                  {{formatColumnHeaders?(col.t|titlecase):col.t }}</th>\n                <td mat-cell *matCellDef=\"let row;let rowIndex = index\">\n                  <ng-container *ngIf=\"(row|getColFormatted:col)|async as val; else elseTemplate\">\n                    <div class=\"cell {{col.itemClassFunc|functionCaller1:row}} \"\n                      [ngClass]=\"{pointer:col.action,link:col.action}\" (click)=\"col.action?col.action(row,col.f):null\"\n                      [matTooltip]=\"val\" #ele [matTooltipDisabled]=\"ele.scrollWidth<=ele.offsetWidth\"\n                      [innerHTML]=\"val|valueOrX\">\n                    </div>\n                  </ng-container>\n                  <ng-template #elseTemplate>\n                    <div [matMenuTriggerFor]=\"assignList\" class=\"text-primary pointer\" \n                      #assignTag>\n                      Assign\n                    </div>\n                    <mat-menu #assignList=\"matMenu\" class=\"\">\n                      <mini-search-list (click)=\"$event.stopPropagation()\" #mslTag (done)=\"col.onSelected($event,row,rowIndex)\"\n                        [list]=\"(col.listingFunction|functionCaller1:row)|async\"\n                        [header]=\"formatColumnHeaders?(col.t|titlecase):col.t\" />\n                    </mat-menu>\n                  </ng-template>\n\n\n                </td>\n              </ng-container>\n              <!--// -->\n\n              <!-- DEFAULT -->\n              <ng-container [sticky]=\"col.isSticky\" matColumnDef=\"{{ col.f|toAny }}\" *ngSwitchDefault>\n                <th mat-header-cell *matHeaderCellDef disableClear>\n                  {{formatColumnHeaders?(col.t|titlecase):col.t }}</th>\n                <td mat-cell *matCellDef=\"let row\">\n                  <ng-container *ngIf=\"col.routeFormatter; else elseNoRouteTemplate\">\n                    <div class=\"cell {{col.itemClassFunc|functionCaller1:row}} \"\n                      [ngClass]=\"{pointer:col.action,link:col.action}\" (click)=\"col.action?col.action(row,col.f):null\"\n                      [matTooltip]=\"(row|getColFormatted:col)|async\" #ele\n                      [matTooltipDisabled]=\"ele.scrollWidth<=ele.offsetWidth\"\n                      [innerHTML]=\"((row|getColFormatted:col)|async)|valueOrX\">\n                    </div>\n                  </ng-container>\n                  <ng-template #elseNoRouteTemplate>\n                    <div class=\"cell {{col.itemClassFunc|functionCaller1:row}} \"\n                      [ngClass]=\"{pointer:col.action,link:col.action}\" (click)=\"col.action?col.action(row,col.f):null\"\n                      [matTooltip]=\"(row|getColFormatted:col)|async\" #ele\n                      [matTooltipDisabled]=\"ele.scrollWidth<=ele.offsetWidth\"\n                      [innerHTML]=\"((row|getColFormatted:col)|async)|valueOrX\">\n                    </div>\n                  </ng-template>\n\n\n                </td>\n              </ng-container>\n              <!--// -->\n            </ng-container>\n          </ng-container>\n          <!--// -->\n          <!-- OPTIONS COLUMN -->\n          <ng-container matColumnDef=\"option\" *ngIf=\"options?.length>0||optionsMap\" stickyEnd>\n            <th mat-header-cell class=\"lastStickyItem w-auto\" *matHeaderCellDef disableClear></th>\n            <td mat-cell class=\"lastStickyItem w-auto\" *matCellDef=\"let row\">\n              <ng-container *ngIf=\"optionsMap; else elseOptionsTemplate\">\n                <ng-container *ngIf=\"(optionsMap|functionCaller1:row) as _rowoptions\">\n                  <app-btn type=\"clear\" [matMenuTriggerFor]=\"menu\" class=\"btn ms-2\">\n                    <mat-icon>more_vert</mat-icon>\n                  </app-btn>\n                  <mat-menu #menu=\"matMenu\">\n                    <button mat-menu-item *ngFor=\"let option of _rowoptions\" (click)=\"option.action(row)\">\n                      {{optionLabeller|functionCaller2:option:row}}\n                    </button>\n                  </mat-menu>\n                </ng-container>\n              </ng-container>\n              <ng-template #elseOptionsTemplate>\n                <app-btn type=\"clear\" [matMenuTriggerFor]=\"menu\" class=\"btn ms-2\">\n                  <mat-icon>more_vert</mat-icon>\n                </app-btn>\n                <mat-menu #menu=\"matMenu\">\n                  <button mat-menu-item *ngFor=\"let option of options\" (click)=\"option.action(row)\">\n                    {{optionLabeller|functionCaller2:option:row}}\n                  </button>\n                </mat-menu>\n              </ng-template>\n            </td>\n          </ng-container>\n          <!--// -->\n\n\n\n          <ng-container *ngIf=\"displayedColumns|getRawFields:(!!options?.length||!!optionsMap):useSelection as dcols\">\n            <tr mat-header-row *matHeaderRowDef=\"dcols\"></tr>\n            <tr mat-row *matRowDef=\"let row; columns: dcols\"\n              [ngClass]=\"{pointer:showRowPointer,selected:selection.isSelected(row),disabled:isDisabledFunc?isDisabledFunc(row):false}\"\n              [matTooltip]=\"isDisabledFunc&&isDisabledFunc(row)?'Disabled':null\" (click)=\"rowClick(row)\"></tr>\n            <tr class=\"mat-row\" *matNoDataRow>\n              <td class=\"mat-cell\" [attr.colspan]=\"dcols?.length||1\">{{noItemTxt}}</td>\n            </tr>\n          </ng-container>\n        </table>\n      </div>\n\n\n      <mat-paginator mresponsiveness [hideMobile]=\"true\" [length]=\"resultsLength\" [pageSizeOptions]=\"pageSizeOptions\"\n        [pageSize]=\"pageSize\" showFirstLastButtons />\n\n      <div class=\"  \" mresponsiveness [hideDesktop]=\"true\">\n        <div class=\" d-flex justify-content-center\">\n          <app-btn text=\"See more\" type=\"clear-pm\" (mclick)=\"increasePageSize()\"\n            *ngIf=\"resultsLength>paginator?.pageSize;else showLess\" />\n          <ng-template #showLess>\n            <app-btn text=\"See less\" type=\"clear-pm\" (mclick)=\"resetPageSize()\" />\n          </ng-template>\n        </div>\n      </div>\n\n    </div>\n    <div class=\"h-100 center text-center noContent\" noContent>\n      <div class=\"\">\n        <div class=\"title\"> No data\n        </div>\n        <div class=\"sub-title\">\n          {{noDataSubTitle}}\n        </div>\n      </div>\n    </div>\n  </loader>\n</div>", styles: ["::ng-deep mat-paginator .mat-mdc-form-field{width:100px;height:25px;margin-top:0;margin-bottom:0;background-color:transparent!important;border:none}::ng-deep mat-paginator .mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mat-mdc-form-field-infix{height:auto;padding:0;color:var(--primary)}::ng-deep .mdc-data-table__header-cell{color:#333!important;background-color:transparent!important;font-style:normal;font-weight:600;font-size:14px;line-height:19px}::ng-deep mat-paginator{border-radius:0 0 16px 16px}::ng-deep .mat-mdc-table{background:rgba(255,255,255,0)}::ng-deep .mat-mdc-table .mat-mdc-row:hover,::ng-deep .mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}::ng-deep .mat-mdc-table .mat-mdc-row.selected:hover,::ng-deep .mat-mdc-table .mat-mdc-footer-row.selected:hover{background-color:#f0f6ff}::ng-deep th.mat-mdc-table-sticky,::ng-deep td.mat-mdc-table-sticky{background-color:#fff!important}::ng-deep .colour{height:15px;width:15px;display:inline-block;border-radius:5px}::ng-deep .centerCells .mat-sort-header-container{justify-content:center}::ng-deep .default.colour{background-color:#545454}::ng-deep .btn-cell{width:1%}::ng-deep .mat-sort-header-container{height:40px}.mat-header-cell{font-weight:600;font-size:14px;line-height:21px}.smallerFonts td,.smallerFonts th{font-size:.7rem}.nowrap td,.nowrap th{white-space:nowrap;text-align:left;padding:0 24px;border-radius:16px}.nowrap td{border-radius:0}:host ::ng-deep input[type=checkbox]:not(.form-control){border:1px solid rgba(80,78,245,.3019607843)}.table tr td:hover{color:unset!important;text-decoration:unset;cursor:unset}tr.mat-header-row{height:auto}.centerCells td{text-align:center}.curvy tr{border-radius:0 10px}.title{font-style:normal;font-weight:600;font-size:24px;line-height:29px;color:#333}.table-container{background:#ffffff;border:1px solid #e0e0e0;box-shadow:none;border-radius:16px}.table-container .mat-paginator,.table-container .mat-table{background:transparent}.mat-header-cell{color:#333;background-color:transparent}.cell.notLink:hover{color:inherit}.cell{text-overflow:ellipsis;display:block;white-space:nowrap;overflow:hidden;font-style:normal;font-weight:400;font-size:14px;line-height:19px;color:#333}.noContent .title{font-style:normal;font-weight:600;font-size:14px;line-height:18px;text-align:center;color:#266dd3}.noContent .sub-title{font-style:normal;font-weight:400;font-size:12px;line-height:18px;text-align:center;width:206px;color:#828282}.table{border:1px solid #f2f2f2;border-radius:16px}.selected{background:#f0f6ff;background-color:#f0f6ff}.disabled .cell{font-style:normal;font-weight:400;font-size:14px;line-height:19px;color:#bdbdbd}.lastStickyItem{padding:0!important;background-image:linear-gradient(270deg,rgb(255,255,255),rgba(255,255,255,.7490196078))!important;border-radius:0!important}th.lastStickyItem{background:transparent!important}.link{color:var(--primary)}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.ActivatedRoute }, { type: i2.UtilityService }]; }, propDecorators: { header: [{
                type: Input
            }], noDataSubTitle: [{
                type: Input
            }], headerBtns: [{
                type: Input
            }], _queryData: [{
                type: Input,
                args: ['queryData']
            }], observableFunc: [{
                type: Input
            }], pageNumber: [{
                type: Input
            }], table: [{
                type: ViewChild,
                args: ['table']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUtaHR0cHMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvaGVybGhheS1oZWxwZXJzL3NyYy9saWIvc2hhcmVkL2NvbXBvbmVudHMvdGFibGUtaHR0cHMvdGFibGUtaHR0cHMuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvaGVybGhheS1oZWxwZXJzL3NyYy9saWIvc2hhcmVkL2NvbXBvbmVudHMvdGFibGUtaHR0cHMvdGFibGUtaHR0cHMuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLFNBQVMsRUFFVCxLQUFLLEVBQ0wsU0FBUyxHQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDeEQsT0FBTyxFQUFZLGNBQWMsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBR25FLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDdEMsT0FBTyxFQUNMLGVBQWUsRUFDZixLQUFLLEVBRUwsRUFBRSxJQUFJLFlBQVksRUFDbEIsRUFBRSxFQUNGLGFBQWEsR0FDZCxNQUFNLE1BQU0sQ0FBQztBQUNkLE9BQU8sRUFDTCxVQUFVLEVBQ1YsTUFBTSxFQUNOLEdBQUcsRUFDSCxTQUFTLEVBQ1QsU0FBUyxFQUNULEdBQUcsR0FDSixNQUFNLGdCQUFnQixDQUFDO0FBRXhCLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQzNFLE9BQU8sRUFBRSxlQUFlLEVBQUUsZUFBZSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUNyRyxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsZ0JBQWdCLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUNyRyxPQUFP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eEIsU0FBUzt1QkFBQyxPQUFPIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBPbkluaXQsXG4gIElucHV0LFxuICBWaWV3Q2hpbGQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUNvbnRyb2wsIEZvcm1Hcm91cCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IE1hdFRhYmxlLCBNYXRUYWJsZU1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3RhYmxlJztcbmltcG9ydCB7IEFjdGl2YXRlZFJvdXRlIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IFV0aWxpdHlTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvdXRpbGl0eS5zZXJ2aWNlJztcbmltcG9ydCB7IGNsb25lRGVlcCB9IGZyb20gJ2xvZGFzaC1lcyc7XG5pbXBvcnQge1xuICBCZWhhdmlvclN1YmplY3QsXG4gIG1lcmdlLFxuICBPYnNlcnZhYmxlLFxuICBvZiBhcyBvYnNlcnZhYmxlT2YsXG4gIG9mLFxuICBSZXBsYXlTdWJqZWN0LFxufSBmcm9tICdyeGpzJztcbmltcG9ydCB7XG4gIGNhdGNoRXJyb3IsXG4gIGZpbHRlcixcbiAgbWFwLFxuICBzdGFydFdpdGgsXG4gIHN3aXRjaE1hcCxcbiAgdGFwLFxufSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBJQnRuIH0gZnJvbSAnLi4vLi4vbW9kZWxzL2luZGV4Lm1vZGVsJztcbmltcG9ydCB7IFRhYmxlUGxhaW5Db21wb25lbnQgfSBmcm9tICcuLi90YWJsZS1wbGFpbi90YWJsZS1wbGFpbi5jb21wb25lbnQnO1xuaW1wb3J0IHsgRnVuY3Rpb25DYWxsZXIxLCBGdW5jdGlvbkNhbGxlcjIsIFRvQW55UGlwZSwgVmFsdWVPclhQaXBlIH0gZnJvbSAnLi4vLi4vcGlwZXMvdXRpbGl0eS5waXBlJztcbmltcG9ydCB7IEdldENvbEZvcm1hdHRlZFBpcGUsIEdldFJhd0ZpZWxkc1BpcGUsIFRhYmxlVG9TdHJpbmdQaXBlIH0gZnJvbSAnLi4vdGFibGUtcGxhaW4vdGFibGUucGlwZSc7XG5pbXBvcnQgeyBSZXNwb25zaXZlbmVzc0RpcmVjdGl2ZSwgaGlkZU1vYmlsZURpcmVjdGl2ZSwgaGlkZURlc2t0b3BEaXJlY3RpdmUgfSBmcm9tICcuLi8uLi9kaXJlY3RpdmVzL3Jlc3BvbnNpdmVuZXNzLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBNYXRQYWdpbmF0b3JNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9wYWdpbmF0b3InO1xuaW1wb3J0IHsgTWF0SWNvbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2ljb24nO1xuaW1wb3J0IHsgTWluaVNlYXJjaExpc3RDb21wb25lbnQgfSBmcm9tICcuLi9taW5pLXNlYXJjaC1saXN0L21pbmktc2VhcmNoLWxpc3QuY29tcG9uZW50JztcbmltcG9ydCB7IE1hdE1lbnVNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9tZW51JztcbmltcG9ydCB7IE1hdFRvb2x0aXBNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC90b29sdGlwJztcbmltcG9ydCB7IEJ0bkNvbXBvbmVudCB9IGZyb20gJy4uL2J0bi9idG4uY29tcG9uZW50JztcbmltcG9ydCB7IEltYWdlTG9hZGVyRGlyZWN0aXZlIH0gZnJvbSAnLi4vLi4vZGlyZWN0aXZlcy9pbWFnZS1sb2FkZXIuZGlyZWN0aXZlJztcbmltcG9ydCB7IE1hdENoZWNrYm94TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvY2hlY2tib3gnO1xuaW1wb3J0IHsgTG9hZGVyQ29tcG9uZW50IH0gZnJvbSAnLi4vbG9hZGVyL2xvYWRlci5jb21wb25lbnQnO1xuaW1wb3J0IHsgTmdJZiwgTmdDbGFzcywgTmdGb3IsIE5nU3dpdGNoLCBOZ1N3aXRjaENhc2UsIE5nU3dpdGNoRGVmYXVsdCwgQXN5bmNQaXBlLCBUaXRsZUNhc2VQaXBlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd0YWJsZS1odHRwcycsXG4gICAgdGVtcGxhdGVVcmw6ICcuL3RhYmxlLWh0dHBzLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi4vdGFibGUtcGxhaW4vdGFibGUtcGxhaW4uY29tcG9uZW50LnNjc3MnXSxcbiAgICBzdGFuZGFsb25lOiB0cnVlLFxuICAgIGltcG9ydHM6IFtcbiAgICAgICAgTmdJZixcbiAgICAgICAgTG9hZGVyQ29tcG9uZW50LFxuICAgICAgICBNYXRUYWJsZU1vZHVsZSxcbiAgICAgICAgTmdDbGFzcyxcbiAgICAgICAgTWF0Q2hlY2tib3hNb2R1bGUsXG4gICAgICAgIE5nRm9yLFxuICAgICAgICBOZ1N3aXRjaCxcbiAgICAgICAgTmdTd2l0Y2hDYXNlLFxuICAgICAgICBJbWFnZUxvYWRlckRpcmVjdGl2ZSxcbiAgICAgICAgQnRuQ29tcG9uZW50LFxuICAgICAgICBNYXRUb29sdGlwTW9kdWxlLFxuICAgICAgICBNYXRNZW51TW9kdWxlLFxuICAgICAgICBNaW5pU2VhcmNoTGlzdENvbXBvbmVudCxcbiAgICAgICAgTmdTd2l0Y2hEZWZhdWx0LFxuICAgICAgICBNYXRJY29uTW9kdWxlLFxuICAgICAgICBNYXRQYWdpbmF0b3JNb2R1bGUsXG4gICAgICAgIFJlc3BvbnNpdmVuZXNzRGlyZWN0aXZlLFxuICAgICAgICBoaWRlTW9iaWxlRGlyZWN0aXZlLFxuICAgICAgICBoaWRlRGVza3RvcERpcmVjdGl2ZSxcbiAgICAgICAgQXN5bmNQaXBlLFxuICAgICAgICBUaXRsZUNhc2VQaXBlLFxuICAgICAgICBHZXRDb2xGb3JtYXR0ZWRQaXBlLFxuICAgICAgICBHZXRSYXdGaWVsZHNQaXBlLFxuICAgICAgICBUYWJsZVRvU3RyaW5nUGlwZSxcbiAgICAgICAgRnVuY3Rpb25DYWxsZXIxLFxuICAgICAgICBGdW5jdGlvbkNhbGxlcjIsXG4gICAgICAgIFRvQW55UGlwZSxcbiAgICAgICAgVmFsdWVPclhQaXBlLFxuICAgIF0sXG59KVxuZXhwb3J0IGNsYXNzIFRhYmxlSHR0cHNDb21wb25lbnQ8VEl0ZW0gPSBhbnk+XG4gIGV4dGVuZHMgVGFibGVQbGFpbkNvbXBvbmVudDxUSXRlbT5cbiAgaW1wbGVtZW50cyBPbkluaXRcbntcbiAgQElucHV0KCkgaGVhZGVyOiBzdHJpbmc7XG4gIEBJbnB1dCgpIG5vRGF0YVN1YlRpdGxlOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGhlYWRlckJ0bnM6IElCdG5bXTtcbiAgcXVlcnlEYXRhO1xuICBASW5wdXQoJ3F1ZXJ5RGF0YScpIHNldCBfcXVlcnlEYXRhKHY6IGFueSkge1xuICAgIHRoaXMucXVlcnlEYXRhID0gdjtcbiAgfVxuICBASW5wdXQoKSBvYnNlcnZhYmxlRnVuYzogKGRhdGE6IGFueSkgPT4gT2JzZXJ2YWJsZTxJVGFibGVTZWFyY2hGdW5jPGFueT4+O1xuICBASW5wdXQoKSBwYWdlTnVtYmVyID0gMDtcbiAgZmlsdGVyZWRBbmRQYWdlZFJlc3VsdHM6IE9ic2VydmFibGU8YW55W10+O1xuXG4gIGlzTG9hZGluZ1Jlc3VsdHMgPSB0cnVlO1xuICBpc1JhdGVMaW1pdFJlYWNoZWQgPSBmYWxzZTtcbiAgZmV0Y2hlZERhdGEgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFRJdGVtW10+KG51bGwpO1xuICAvKipcbiAgICogQ29udGFpbnMgYWxsIHRoZSBzZWFyY2ggcXVlcnkgc2VudCBsYXN0XG4gICAqL1xuICBhbGxRdWVyeTogYW55O1xuXG4gIEBWaWV3Q2hpbGQoJ3RhYmxlJykgdGFibGU6IE1hdFRhYmxlPFRJdGVtPjtcbiAgZGF0YTogVEl0ZW1bXTtcbiAgZm9ybTIgPSBuZXcgRm9ybUdyb3VwKHtcbiAgICBwYWdlOiBuZXcgRm9ybUNvbnRyb2woMSksXG4gICAgc29ydEJ5RmllbGQ6IG5ldyBGb3JtQ29udHJvbCgpLFxuICAgIHNvcnRCeURpcmVjdGlvbjogbmV3IEZvcm1Db250cm9sKFxuICAgICAgdGhpcy5vcmRlckRpcmVjdGlvbiA9PSAnYXNjJ1xuICAgICAgICA/ICdBU0MnXG4gICAgICAgIDogdGhpcy5vcmRlckRpcmVjdGlvbiA9PSAnZGVzYydcbiAgICAgICAgPyAnREVTQydcbiAgICAgICAgOiAnJ1xuICAgICksXG4gICAgbGltaXQ6IG5ldyBGb3JtQ29udHJvbCgpLFxuICB9KTtcbiAgc2VhcmNoVHJpZ2dlciA9IG5ldyBSZXBsYXlTdWJqZWN0KCk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcbiAgICBwdWJsaWMgb3ZlcnJpZGUgdVM6IFV0aWxpdHlTZXJ2aWNlXG4gICkge1xuICAgIHN1cGVyKHVTKTtcbiAgfVxuICBvdmVycmlkZSBuZ09uSW5pdCgpIHtcbiAgICBzdXBlci5uZ09uSW5pdCgpO1xuICB9XG4gIG92ZXJyaWRlIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICB0aGlzLnF1ZXJ5RGF0YSA9IHRoaXMucXVlcnlEYXRhIHx8IHt9O1xuICAgIC8vIHRoaXMucXVlcnlEYXRhID0gdGhpcy5xdWVyeURhdGEgfHwgdGhpcy5yb3V0ZS5zbmFwc2hvdC5xdWVyeVBhcmFtcztcbiAgICAvLyBkZWJ1Z2dlcjtcbiAgICB0aGlzLnBhZ2luYXRvci5wYWdlLnN1YnNjcmliZSgocikgPT4ge1xuICAgICAgdGhpcy5mb3JtMi5wYXRjaFZhbHVlKHtcbiAgICAgICAgcGFnZTogci5wYWdlSW5kZXggKyAxLFxuICAgICAgICBsaW1pdDogci5wYWdlU2l6ZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuc29ydD8uc29ydENoYW5nZS5zdWJzY3JpYmUoKHIpID0+IHtcbiAgICAgIHRoaXMuZm9ybTIucGF0Y2hWYWx1ZSh7XG4gICAgICAgIHNvcnRCeURpcmVjdGlvbjogci5kaXJlY3Rpb24sXG4gICAgICAgIHNvcnRCeUZpZWxkOiByLmFjdGl2ZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vIHRoaXMuc2VhcmNoVHJpZ2dlci5zdWJzY3JpYmUocj0+e1xuICAgIC8vICAgY29uc29sZS5sb2cocilcbiAgICAvLyB9KVxuICAgIHRoaXMuZmlsdGVyZWRBbmRQYWdlZFJlc3VsdHMgPSBtZXJnZShcbiAgICAgIHRoaXMuZm9ybTIudmFsdWVDaGFuZ2VzLFxuICAgICAgdGhpcy5zZWFyY2hUcmlnZ2VyXG4gICAgKS5waXBlKFxuICAgICAgc3RhcnRXaXRoKHt9KSxcbiAgICAgIGZpbHRlcigoKSA9PiAhIXRoaXMub2JzZXJ2YWJsZUZ1bmMpLFxuICAgICAgc3dpdGNoTWFwKCgpID0+IHtcbiAgICAgICAgdGhpcy5pc0xvYWRpbmdSZXN1bHRzID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgcXVlcnlEYXRhID0gdGhpcy5xdWVyeURhdGE7XG4gICAgICAgIGNvbnN0IHBhZ2VWYWx1ZXMgPSB0aGlzLmZvcm0yLnZhbHVlO1xuICAgICAgICBpZiAoIXBhZ2VWYWx1ZXMubGltaXQpXG4gICAgICAgICAgcGFnZVZhbHVlcy5saW1pdCA9IHRoaXMucGFnaW5hdG9yPy5wYWdlU2l6ZSB8fCB0aGlzLnBhZ2VTaXplO1xuICAgICAgICB0aGlzLmFsbFF1ZXJ5ID0ge1xuICAgICAgICAgIC4uLnF1ZXJ5RGF0YSxcbiAgICAgICAgICAuLi5wYWdlVmFsdWVzLFxuICAgICAgICB9O1xuICAgICAgICAvLyBkZWJ1Z2dlcjtcbiAgICAgICAgcmV0dXJuIHRoaXMub2JzZXJ2YWJsZUZ1bmModGhpcy5hbGxRdWVyeSk7XG4gICAgICB9KSxcbiAgICAgIGNhdGNoRXJyb3IoKGUpID0+IG9mKG51bGwpKSxcbiAgICAgIHRhcCgocikgPT4gdGhpcy5zZWxlY3Rpb24uY2xlYXIoKSksXG4gICAgICBtYXAoKGRhdGEpID0+IHtcbiAgICAgICAgLy8gRmxpcCBmbGFnIHRvIHNob3cgdGhhdCBsb2FkaW5nIGhhcyBmaW5pc2hlZC5cbiAgICAgICAgLy8gZGVidWdnZXI7XG4gICAgICAgIC8vIGRlYnVnZ2VyO1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgdGhpcy5pc0xvYWRpbmdSZXN1bHRzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNSYXRlTGltaXRSZWFjaGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVzdWx0c0xlbmd0aCA9IGRhdGE/LnRvdGFsO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhPy5kYXRhIHx8IFtdO1xuICAgICAgICB0aGlzLmZldGNoZWREYXRhLm5leHQodGhpcy5kYXRhKTtcbiAgICAgICAgLy8gZGVidWdnZXJcbiAgICAgICAgcmV0dXJuIGRhdGE/LmRhdGE7XG4gICAgICB9KSxcbiAgICAgIGNhdGNoRXJyb3IoKGUpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgdGhpcy5pc0xvYWRpbmdSZXN1bHRzID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5pc1JhdGVMaW1pdFJlYWNoZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZU9mKFtdKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgICB0aGlzLmZpbHRlcmVkQW5kUGFnZWRSZXN1bHRzLnN1YnNjcmliZSgpO1xuICB9XG4gIHNlYXJjaChxdWVyeT86IGFueSkge1xuICAgIHRoaXMucXVlcnlEYXRhID0gcXVlcnkgfHwgdGhpcy5xdWVyeURhdGE7XG4gICAgLy8gdGhpcy5mb3JtLmNvbnRyb2xzLnBhZ2VOdW1iZXIucGF0Y2hWYWx1ZSgwKTtcbiAgICB0aGlzLnJlc2V0UGFnaW5nKCk7XG4gICAgdGhpcy5zZWFyY2hUcmlnZ2VyLm5leHQodHJ1ZSk7XG4gIH1cblxuICAvKiogV2hldGhlciB0aGUgbnVtYmVyIG9mIHNlbGVjdGVkIGVsZW1lbnRzIG1hdGNoZXMgdGhlIHRvdGFsIG51bWJlciBvZiByb3dzLiAqL1xuICBvdmVycmlkZSBpc0FsbFNlbGVjdGVkKCkge1xuICAgIGNvbnN0IG51bVNlbGVjdGVkID0gdGhpcy5zZWxlY3Rpb24/LnNlbGVjdGVkPy5sZW5ndGg7XG4gICAgY29uc3QgbnVtUm93cyA9IHRoaXMuZGF0YT8ubGVuZ3RoO1xuICAgIHJldHVybiBudW1TZWxlY3RlZCA9PT0gbnVtUm93cztcbiAgfVxuXG4gIC8qKiBTZWxlY3RzIGFsbCByb3dzIGlmIHRoZXkgYXJlIG5vdCBhbGwgc2VsZWN0ZWQ7IG90aGVyd2lzZSBjbGVhciBzZWxlY3Rpb24uICovXG4gIG92ZXJyaWRlIG1hc3RlclRvZ2dsZSgpIHtcbiAgICBpZiAodGhpcy5pc0FsbFNlbGVjdGVkKCkpIHtcbiAgICAgIHRoaXMuc2VsZWN0aW9uLmNsZWFyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdCguLi50aGlzLmRhdGEpO1xuICB9XG5cbiAgcmVzZXRQYWdpbmcoKTogdm9pZCB7XG4gICAgdGhpcy5wYWdpbmF0b3IucGFnZUluZGV4ID0gMDtcbiAgICB0aGlzLmZvcm0yLnBhdGNoVmFsdWUoeyBwYWdlOiAxIH0sIHsgZW1pdEV2ZW50OiBmYWxzZSB9KTtcbiAgfVxuICByZXNldCgpIHt9XG4gIHJlZnJlc2goKSB7XG4gICB0aGlzLnNlYXJjaCggIClcbiAgfVxuICBzZXREYXRhKGQpIHtcbiAgICB0aGlzLmRhdGEgPSBjbG9uZURlZXAoZCk7XG4gICAgLy8gdGhpcy50YWJsZS5yZW5kZXJSb3dzKCk7XG4gIH1cblxuXG4gIG92ZXJyaWRlIGluY3JlYXNlUGFnZVNpemUoKSB7XG4gICAgLy8gZGVidWdnZXJcbiAgICBpZiAodGhpcy5yZXN1bHRzTGVuZ3RoIDw9IHRoaXMucGFnaW5hdG9yLnBhZ2VTaXplKSByZXR1cm47XG4gICAgdGhpcy5wYWdpbmF0b3IuX2NoYW5nZVBhZ2VTaXplKFxuICAgICAgdGhpcy5wYWdpbmF0b3IucGFnZVNpemUgKyB0aGlzLnBhZ2VTaXplSW5jcmVtZW50b3JcbiAgICApO1xuICB9XG4gIG92ZXJyaWRlIHJlc2V0UGFnZVNpemUoKSB7XG4gICAgdGhpcy5wYWdpbmF0b3IuX2NoYW5nZVBhZ2VTaXplKHRoaXMucGFnZVNpemUpO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRhYmxlU2VhcmNoRnVuYzxUID0gYW55PiB7XG4gIGRhdGE6IFRbXTtcbiAgdG90YWw6IG51bWJlcjtcbn1cbiIsIjxkaXYgY2xhc3M9XCJoLTEwMCBcIj5cbiAgPGRpdiBjbGFzcz1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW4gbWItM1wiICpuZ0lmPVwiaGVhZGVyfHxoZWFkZXJCdG5zXCI+XG4gICAgPGRpdiBjbGFzcz1cInRpdGxlXCI+XG4gICAgICB7e2hlYWRlcn19XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8bG9hZGVyIGNsYXNzPVwiaC0xMDBcIiBbbG9hZGluZ109XCJpc0xvYWRpbmdSZXN1bHRzXCIgW2hlaWdodF09XCJjb250YWluZXI/Lm9mZnNldEhlaWdodCsxMDBcIlxuICAgIFtoYXNDb250ZW50XT1cIiEhZGF0YT8ubGVuZ3RoXCI+XG4gICAgPGRpdiBjbGFzcz1cInRhYmxlLWNvbnRhaW5lclwiIGNvbnRlbnQgI2NvbnRhaW5lcj5cbiAgICAgIDxkaXYgY2xhc3M9XCJvdmVyZmxvdy1hdXRvIFwiPlxuICAgICAgICA8dGFibGUgbWF0LXRhYmxlIFtkYXRhU291cmNlXT1cImRhdGFcIiBjbGFzcz1cInctMTAwIGQtdGFibGVcIiBbbmdDbGFzc109XCJ7c21hbGxlckZvbnRzLG5vd3JhcCxjZW50ZXJDZWxscyxjdXJ2eX1cIlxuICAgICAgICAgICN0YWJsZT5cbiAgICAgICAgICA8IS0tIENoZWNrYm94IENvbHVtbiAtLT5cbiAgICAgICAgICA8bmctY29udGFpbmVyIG1hdENvbHVtbkRlZj1cIm1zZWxlY3RcIiBzdGlja3k+XG4gICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPlxuICAgICAgICAgICAgICA8bWF0LWNoZWNrYm94IGNsYXNzPVwiY2lyY2xlLWNoZWNrYm94XCIgKGNoYW5nZSk9XCIkZXZlbnQgPyBtYXN0ZXJUb2dnbGUoKSA6IG51bGxcIlxuICAgICAgICAgICAgICAgIFtjaGVja2VkXT1cInNlbGVjdGlvbi5oYXNWYWx1ZSgpICYmIGlzQWxsU2VsZWN0ZWQoKVwiXG4gICAgICAgICAgICAgICAgW2luZGV0ZXJtaW5hdGVdPVwic2VsZWN0aW9uLmhhc1ZhbHVlKCkgJiYgIWlzQWxsU2VsZWN0ZWQoKVwiIFthcmlhLWxhYmVsXT1cImNoZWNrYm94TGFiZWwoKVwiPlxuICAgICAgICAgICAgICA8L21hdC1jaGVja2JveD5cbiAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICA8dGQgbWF0LWNlbGwgKm1hdENlbGxEZWY9XCJsZXQgcm93XCI+XG4gICAgICAgICAgICAgIDxtYXQtY2hlY2tib3ggY2xhc3M9XCJjaXJjbGUtY2hlY2tib3hcIiAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCJcbiAgICAgICAgICAgICAgICAoY2hhbmdlKT1cIiRldmVudCA/IHNlbGVjdGlvbi50b2dnbGUocm93KSA6IG51bGxcIiBbY2hlY2tlZF09XCJzZWxlY3Rpb24uaXNTZWxlY3RlZChyb3cpXCJcbiAgICAgICAgICAgICAgICBbYXJpYS1sYWJlbF09XCJjaGVja2JveExhYmVsKHJvdylcIj5cbiAgICAgICAgICAgICAgPC9tYXQtY2hlY2tib3g+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgICAgICAgPCEtLSBDT0xVTU5TIC0tPlxuICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGNvbCBvZiBkaXNwbGF5ZWRDb2x1bW5zOyBsZXQgaSA9IGluZGV4XCI+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyIFtuZ1N3aXRjaF09XCJjb2wudHlwZVwiPlxuICAgICAgICAgICAgICA8IS0tIElNQUdFIC0tPlxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ1N3aXRjaENhc2U9XCInaW1hZ2UnXCIgbWF0Q29sdW1uRGVmPVwie3sgY29sLmZ8dG9BbnkgfX1cIj5cbiAgICAgICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPlxuICAgICAgICAgICAgICAgICAge3sgY29sLnR8dGl0bGVjYXNlfX1cbiAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgIDx0ZCBtYXQtY2VsbCAqbWF0Q2VsbERlZj1cImxldCByb3dcIj5cbiAgICAgICAgICAgICAgICAgIDxpbWcgW2ltYWdlTG9hZGVyXT1cInJvd1tjb2wuZl1cIiBhbHQ9XCJ7e2NvbC5mfX0gaW1hZ2VcIiBjbGFzcz1cInt7Y29sLml0ZW1DbGFzc319XCI+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgIDwhLS0vLyAtLT5cblxuICAgICAgICAgICAgICA8IS0tIEJ1dHRvbiAtLT5cbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdTd2l0Y2hDYXNlPVwiJ2J1dHRvbidcIiBtYXRDb2x1bW5EZWY9XCJ7eyBjb2wuZnx0b0FueSB9fVwiPlxuICAgICAgICAgICAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgKm1hdEhlYWRlckNlbGxEZWY+XG4gICAgICAgICAgICAgICAgICB7eyBjb2wudHx0aXRsZWNhc2V9fVxuICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IHJvd1wiIGNsYXNzPVwiYnRuLWNlbGxcIj5cbiAgICAgICAgICAgICAgICAgIDxhcHAtYnRuIFtpY29uXT1cImNvbC5idG4/Lmljb25cIiBbdHlwZV09XCJjb2wuYnRuPy50eXBlXCIgKG1jbGljayk9XCJjbGlja0J0bihjb2wscm93KVwiXG4gICAgICAgICAgICAgICAgICAgIFtoZWxwXT1cImNvbC5idG4/LmhlbHBcIiBbdGV4dF09XCJjb2wuYnRuPy5sYWJlbFwiIFtsb2FkaW5nXT1cImNvbC5idG4/LmxvYWRpbmdcIlxuICAgICAgICAgICAgICAgICAgICBbaWNvbkJ0bl09XCJjb2wuYnRuPy5pY29uQnRuXCIgbWNsYXNzPVwidy1hdXRvXCIgW2Rpc2FibGVkXT1cImNvbC5idG4/LmRpc2FibGVkIHx8IGNvbC5idG4/LmxvYWRpbmdcIj5cbiAgICAgICAgICAgICAgICAgIDwvYXBwLWJ0bj5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgPCEtLS8vIC0tPlxuXG4gICAgICAgICAgICAgIDwhLS0gQUNUSU9OIENPTFVNTlMgLS0+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgW3N0aWNreV09XCJjb2wuaXNTdGlja3lcIiBbc3RpY2t5RW5kXT1cImNvbC5pc1N0aWNreUVuZFwiIG1hdENvbHVtbkRlZj1cInt7IGNvbC5mfHRvQW55IH19XCJcbiAgICAgICAgICAgICAgICAqbmdTd2l0Y2hDYXNlPVwiJ2J0bnMnXCI+XG4gICAgICAgICAgICAgICAgPHRoIG1hdC1oZWFkZXItY2VsbCAqbWF0SGVhZGVyQ2VsbERlZiBjbGFzcz1cImJ0bi1jZWxsXCI+XG4gICAgICAgICAgICAgICAgICB7eyBjb2wudCB8IHRpdGxlY2FzZSB9fVxuICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IHJvdztsZXQgaT1pbmRleFwiIGNsYXNzPVwiYnRuLWNlbGxcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggY29sLW1kLWF1dG8gY29sLXNtLWF1dG8gXCI+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm14LTJcIiAqbmdGb3I9XCJsZXQgYnV0dG9uIG9mIGNvbC5idXR0b25zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGFwcC1idG4gW2ljb25dPVwiYnV0dG9uLmljb25cIiBbaGVscF09XCJidXR0b24uaGVscFwiIFtzaG93SGVscEljb25dPVwiYnV0dG9uLnNob3dIZWxwSWNvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbdHlwZV09XCJidXR0b24udHlwZVwiIFtncm91cF09XCJidXR0b24uZ3JvdXBcIiBbaWNvbkJ0bl09XCJ0cnVlXCIgbWNsYXNzPVwidy1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIChtY2xpY2spPVwiYnV0dG9uLmFjdGlvbihyb3csaSlcIj48L2FwcC1idG4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG5cblxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG5cbiAgICAgICAgICAgICAgPCEtLSBTdWIgVGFibGUgLS0+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgW3N0aWNreV09XCJjb2wuaXNTdGlja3lcIiAqbmdTd2l0Y2hDYXNlPVwiJ3RhYmxlJ1wiIG1hdENvbHVtbkRlZj1cInt7IGNvbC5mfHRvQW55IH19XCI+XG4gICAgICAgICAgICAgICAgPHRoIG1hdC1oZWFkZXItY2VsbCAqbWF0SGVhZGVyQ2VsbERlZj5cbiAgICAgICAgICAgICAgICAgIHt7IGNvbC50fHRpdGxlY2FzZX19XG4gICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICA8dGQgbWF0LWNlbGwgKm1hdENlbGxEZWY9XCJsZXQgcm93XCI+XG4gICAgICAgICAgICAgICAgICA8YXBwLWJ0biBbaWNvbl09XCJjb2wuYnRuPy5pY29uXCIgdHlwZT1cImRhcmtcIiAobWNsaWNrKT1cImNvbC5hY3Rpb24gPyBjb2wuYWN0aW9uKHJvdywgY29sLmYpIDogbnVsbFwiXG4gICAgICAgICAgICAgICAgICAgIFtoZWxwXT1cImNvbC5zdWJUYWJsZXx0YWJsZVRvU3RyaW5nOnJvd3wgYXN5bmNcIiBbc2hvd0hlbHBJY29uXT1cImZhbHNlXCIgW2ljb25CdG5dPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgIG1jbGFzcz1cInctYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgPC9hcHAtYnRuPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICA8IS0tLy8gLS0+XG5cbiAgICAgICAgICAgICAgPCEtLSBBU1NJR04gRlJPTSBMSVNUIC0tPlxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyIFtzdGlja3ldPVwiY29sLmlzU3RpY2t5XCIgbWF0Q29sdW1uRGVmPVwie3sgY29sLmZ8dG9BbnkgfX1cIiAqbmdTd2l0Y2hDYXNlPVwiJ2Fzc2lnbi1mcm9tLWxpc3QnXCI+XG4gICAgICAgICAgICAgICAgPHRoIG1hdC1oZWFkZXItY2VsbCAqbWF0SGVhZGVyQ2VsbERlZiBkaXNhYmxlQ2xlYXI+XG4gICAgICAgICAgICAgICAgICB7e2Zvcm1hdENvbHVtbkhlYWRlcnM/KGNvbC50fHRpdGxlY2FzZSk6Y29sLnQgfX08L3RoPlxuICAgICAgICAgICAgICAgIDx0ZCBtYXQtY2VsbCAqbWF0Q2VsbERlZj1cImxldCByb3c7bGV0IHJvd0luZGV4ID0gaW5kZXhcIj5cbiAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIocm93fGdldENvbEZvcm1hdHRlZDpjb2wpfGFzeW5jIGFzIHZhbDsgZWxzZSBlbHNlVGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNlbGwge3tjb2wuaXRlbUNsYXNzRnVuY3xmdW5jdGlvbkNhbGxlcjE6cm93fX0gXCJcbiAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7cG9pbnRlcjpjb2wuYWN0aW9uLGxpbms6Y29sLmFjdGlvbn1cIiAoY2xpY2spPVwiY29sLmFjdGlvbj9jb2wuYWN0aW9uKHJvdyxjb2wuZik6bnVsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgW21hdFRvb2x0aXBdPVwidmFsXCIgI2VsZSBbbWF0VG9vbHRpcERpc2FibGVkXT1cImVsZS5zY3JvbGxXaWR0aDw9ZWxlLm9mZnNldFdpZHRoXCJcbiAgICAgICAgICAgICAgICAgICAgICBbaW5uZXJIVE1MXT1cInZhbHx2YWx1ZU9yWFwiPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNlbHNlVGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgW21hdE1lbnVUcmlnZ2VyRm9yXT1cImFzc2lnbkxpc3RcIiBjbGFzcz1cInRleHQtcHJpbWFyeSBwb2ludGVyXCIgXG4gICAgICAgICAgICAgICAgICAgICAgI2Fzc2lnblRhZz5cbiAgICAgICAgICAgICAgICAgICAgICBBc3NpZ25cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxtYXQtbWVudSAjYXNzaWduTGlzdD1cIm1hdE1lbnVcIiBjbGFzcz1cIlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxtaW5pLXNlYXJjaC1saXN0IChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcIiAjbXNsVGFnIChkb25lKT1cImNvbC5vblNlbGVjdGVkKCRldmVudCxyb3cscm93SW5kZXgpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtsaXN0XT1cIihjb2wubGlzdGluZ0Z1bmN0aW9ufGZ1bmN0aW9uQ2FsbGVyMTpyb3cpfGFzeW5jXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtoZWFkZXJdPVwiZm9ybWF0Q29sdW1uSGVhZGVycz8oY29sLnR8dGl0bGVjYXNlKTpjb2wudFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvbWF0LW1lbnU+XG4gICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuXG5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgPCEtLS8vIC0tPlxuXG4gICAgICAgICAgICAgIDwhLS0gREVGQVVMVCAtLT5cbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciBbc3RpY2t5XT1cImNvbC5pc1N0aWNreVwiIG1hdENvbHVtbkRlZj1cInt7IGNvbC5mfHRvQW55IH19XCIgKm5nU3dpdGNoRGVmYXVsdD5cbiAgICAgICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmIGRpc2FibGVDbGVhcj5cbiAgICAgICAgICAgICAgICAgIHt7Zm9ybWF0Q29sdW1uSGVhZGVycz8oY29sLnR8dGl0bGVjYXNlKTpjb2wudCB9fTwvdGg+XG4gICAgICAgICAgICAgICAgPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IHJvd1wiPlxuICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbC5yb3V0ZUZvcm1hdHRlcjsgZWxzZSBlbHNlTm9Sb3V0ZVRlbXBsYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjZWxsIHt7Y29sLml0ZW1DbGFzc0Z1bmN8ZnVuY3Rpb25DYWxsZXIxOnJvd319IFwiXG4gICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwie3BvaW50ZXI6Y29sLmFjdGlvbixsaW5rOmNvbC5hY3Rpb259XCIgKGNsaWNrKT1cImNvbC5hY3Rpb24/Y29sLmFjdGlvbihyb3csY29sLmYpOm51bGxcIlxuICAgICAgICAgICAgICAgICAgICAgIFttYXRUb29sdGlwXT1cIihyb3d8Z2V0Q29sRm9ybWF0dGVkOmNvbCl8YXN5bmNcIiAjZWxlXG4gICAgICAgICAgICAgICAgICAgICAgW21hdFRvb2x0aXBEaXNhYmxlZF09XCJlbGUuc2Nyb2xsV2lkdGg8PWVsZS5vZmZzZXRXaWR0aFwiXG4gICAgICAgICAgICAgICAgICAgICAgW2lubmVySFRNTF09XCIoKHJvd3xnZXRDb2xGb3JtYXR0ZWQ6Y29sKXxhc3luYyl8dmFsdWVPclhcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjZWxzZU5vUm91dGVUZW1wbGF0ZT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNlbGwge3tjb2wuaXRlbUNsYXNzRnVuY3xmdW5jdGlvbkNhbGxlcjE6cm93fX0gXCJcbiAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7cG9pbnRlcjpjb2wuYWN0aW9uLGxpbms6Y29sLmFjdGlvbn1cIiAoY2xpY2spPVwiY29sLmFjdGlvbj9jb2wuYWN0aW9uKHJvdyxjb2wuZik6bnVsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgW21hdFRvb2x0aXBdPVwiKHJvd3xnZXRDb2xGb3JtYXR0ZWQ6Y29sKXxhc3luY1wiICNlbGVcbiAgICAgICAgICAgICAgICAgICAgICBbbWF0VG9vbHRpcERpc2FibGVkXT1cImVsZS5zY3JvbGxXaWR0aDw9ZWxlLm9mZnNldFdpZHRoXCJcbiAgICAgICAgICAgICAgICAgICAgICBbaW5uZXJIVE1MXT1cIigocm93fGdldENvbEZvcm1hdHRlZDpjb2wpfGFzeW5jKXx2YWx1ZU9yWFwiPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG5cblxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICA8IS0tLy8gLS0+XG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICA8IS0tLy8gLS0+XG4gICAgICAgICAgPCEtLSBPUFRJT05TIENPTFVNTiAtLT5cbiAgICAgICAgICA8bmctY29udGFpbmVyIG1hdENvbHVtbkRlZj1cIm9wdGlvblwiICpuZ0lmPVwib3B0aW9ucz8ubGVuZ3RoPjB8fG9wdGlvbnNNYXBcIiBzdGlja3lFbmQ+XG4gICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsIGNsYXNzPVwibGFzdFN0aWNreUl0ZW0gdy1hdXRvXCIgKm1hdEhlYWRlckNlbGxEZWYgZGlzYWJsZUNsZWFyPjwvdGg+XG4gICAgICAgICAgICA8dGQgbWF0LWNlbGwgY2xhc3M9XCJsYXN0U3RpY2t5SXRlbSB3LWF1dG9cIiAqbWF0Q2VsbERlZj1cImxldCByb3dcIj5cbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIm9wdGlvbnNNYXA7IGVsc2UgZWxzZU9wdGlvbnNUZW1wbGF0ZVwiPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIob3B0aW9uc01hcHxmdW5jdGlvbkNhbGxlcjE6cm93KSBhcyBfcm93b3B0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAgPGFwcC1idG4gdHlwZT1cImNsZWFyXCIgW21hdE1lbnVUcmlnZ2VyRm9yXT1cIm1lbnVcIiBjbGFzcz1cImJ0biBtcy0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxtYXQtaWNvbj5tb3JlX3ZlcnQ8L21hdC1pY29uPlxuICAgICAgICAgICAgICAgICAgPC9hcHAtYnRuPlxuICAgICAgICAgICAgICAgICAgPG1hdC1tZW51ICNtZW51PVwibWF0TWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG1hdC1tZW51LWl0ZW0gKm5nRm9yPVwibGV0IG9wdGlvbiBvZiBfcm93b3B0aW9uc1wiIChjbGljayk9XCJvcHRpb24uYWN0aW9uKHJvdylcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7e29wdGlvbkxhYmVsbGVyfGZ1bmN0aW9uQ2FsbGVyMjpvcHRpb246cm93fX1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L21hdC1tZW51PlxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNlbHNlT3B0aW9uc1RlbXBsYXRlPlxuICAgICAgICAgICAgICAgIDxhcHAtYnRuIHR5cGU9XCJjbGVhclwiIFttYXRNZW51VHJpZ2dlckZvcl09XCJtZW51XCIgY2xhc3M9XCJidG4gbXMtMlwiPlxuICAgICAgICAgICAgICAgICAgPG1hdC1pY29uPm1vcmVfdmVydDwvbWF0LWljb24+XG4gICAgICAgICAgICAgICAgPC9hcHAtYnRuPlxuICAgICAgICAgICAgICAgIDxtYXQtbWVudSAjbWVudT1cIm1hdE1lbnVcIj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gbWF0LW1lbnUtaXRlbSAqbmdGb3I9XCJsZXQgb3B0aW9uIG9mIG9wdGlvbnNcIiAoY2xpY2spPVwib3B0aW9uLmFjdGlvbihyb3cpXCI+XG4gICAgICAgICAgICAgICAgICAgIHt7b3B0aW9uTGFiZWxsZXJ8ZnVuY3Rpb25DYWxsZXIyOm9wdGlvbjpyb3d9fVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9tYXQtbWVudT5cbiAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgPCEtLS8vIC0tPlxuXG5cblxuICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJkaXNwbGF5ZWRDb2x1bW5zfGdldFJhd0ZpZWxkczooISFvcHRpb25zPy5sZW5ndGh8fCEhb3B0aW9uc01hcCk6dXNlU2VsZWN0aW9uIGFzIGRjb2xzXCI+XG4gICAgICAgICAgICA8dHIgbWF0LWhlYWRlci1yb3cgKm1hdEhlYWRlclJvd0RlZj1cImRjb2xzXCI+PC90cj5cbiAgICAgICAgICAgIDx0ciBtYXQtcm93ICptYXRSb3dEZWY9XCJsZXQgcm93OyBjb2x1bW5zOiBkY29sc1wiXG4gICAgICAgICAgICAgIFtuZ0NsYXNzXT1cIntwb2ludGVyOnNob3dSb3dQb2ludGVyLHNlbGVjdGVkOnNlbGVjdGlvbi5pc1NlbGVjdGVkKHJvdyksZGlzYWJsZWQ6aXNEaXNhYmxlZEZ1bmM/aXNEaXNhYmxlZEZ1bmMocm93KTpmYWxzZX1cIlxuICAgICAgICAgICAgICBbbWF0VG9vbHRpcF09XCJpc0Rpc2FibGVkRnVuYyYmaXNEaXNhYmxlZEZ1bmMocm93KT8nRGlzYWJsZWQnOm51bGxcIiAoY2xpY2spPVwicm93Q2xpY2socm93KVwiPjwvdHI+XG4gICAgICAgICAgICA8dHIgY2xhc3M9XCJtYXQtcm93XCIgKm1hdE5vRGF0YVJvdz5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWF0LWNlbGxcIiBbYXR0ci5jb2xzcGFuXT1cImRjb2xzPy5sZW5ndGh8fDFcIj57e25vSXRlbVR4dH19PC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L2Rpdj5cblxuXG4gICAgICA8bWF0LXBhZ2luYXRvciBtcmVzcG9uc2l2ZW5lc3MgW2hpZGVNb2JpbGVdPVwidHJ1ZVwiIFtsZW5ndGhdPVwicmVzdWx0c0xlbmd0aFwiIFtwYWdlU2l6ZU9wdGlvbnNdPVwicGFnZVNpemVPcHRpb25zXCJcbiAgICAgICAgW3BhZ2VTaXplXT1cInBhZ2VTaXplXCIgc2hvd0ZpcnN0TGFzdEJ1dHRvbnMgLz5cblxuICAgICAgPGRpdiBjbGFzcz1cIiAgXCIgbXJlc3BvbnNpdmVuZXNzIFtoaWRlRGVza3RvcF09XCJ0cnVlXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCIgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cbiAgICAgICAgICA8YXBwLWJ0biB0ZXh0PVwiU2VlIG1vcmVcIiB0eXBlPVwiY2xlYXItcG1cIiAobWNsaWNrKT1cImluY3JlYXNlUGFnZVNpemUoKVwiXG4gICAgICAgICAgICAqbmdJZj1cInJlc3VsdHNMZW5ndGg+cGFnaW5hdG9yPy5wYWdlU2l6ZTtlbHNlIHNob3dMZXNzXCIgLz5cbiAgICAgICAgICA8bmctdGVtcGxhdGUgI3Nob3dMZXNzPlxuICAgICAgICAgICAgPGFwcC1idG4gdGV4dD1cIlNlZSBsZXNzXCIgdHlwZT1cImNsZWFyLXBtXCIgKG1jbGljayk9XCJyZXNldFBhZ2VTaXplKClcIiAvPlxuICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiaC0xMDAgY2VudGVyIHRleHQtY2VudGVyIG5vQ29udGVudFwiIG5vQ29udGVudD5cbiAgICAgIDxkaXYgY2xhc3M9XCJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRpdGxlXCI+IE5vIGRhdGFcbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdWItdGl0bGVcIj5cbiAgICAgICAgICB7e25vRGF0YVN1YlRpdGxlfX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9sb2FkZXI+XG48L2Rpdj4iXX0=