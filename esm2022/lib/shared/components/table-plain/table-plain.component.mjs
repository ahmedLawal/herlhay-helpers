import { SelectionModel } from '@angular/cdk/collections';
import { Component, EventEmitter, Input, Output, ViewChild, } from '@angular/core';
import { FormGroup, FormControl } from '@angular/forms';
import { MatPaginator, MatPaginatorModule } from '@angular/material/paginator';
import { MatSort, MatSortModule } from '@angular/material/sort';
import { MatTableDataSource, MatTableModule } from '@angular/material/table';
import { FunctionCaller1, FunctionCaller2, ToAnyPipe, ValueOrXPipe } from '../../pipes/utility.pipe';
import { GetColFormattedPipe, GetRawFieldsPipe } from './table.pipe';
import { ResponsivenessDirective, hideMobileDirective, hideDesktopDirective } from '../../directives/responsiveness.directive';
import { MatIconModule } from '@angular/material/icon';
import { MatMenuModule } from '@angular/material/menu';
import { MatTooltipModule } from '@angular/material/tooltip';
import { RouterLink } from '@angular/router';
import { BtnComponent } from '../btn/btn.component';
import { MatCheckboxModule } from '@angular/material/checkbox';
import { NgClass, NgIf, NgFor, NgSwitch, NgSwitchCase, NgSwitchDefault, AsyncPipe, TitleCasePipe } from '@angular/common';
import { PrecentageTrendComponent } from '../precentage-trend/precentage-trend.component';
import * as i0 from "@angular/core";
import * as i1 from "../../../services/utility.service";
import * as i2 from "@angular/material/table";
import * as i3 from "@angular/material/sort";
import * as i4 from "@angular/material/checkbox";
import * as i5 from "@angular/material/tooltip";
import * as i6 from "@angular/material/menu";
import * as i7 from "@angular/material/icon";
import * as i8 from "@angular/material/paginator";
export class TablePlainComponent {
    set _displayedColumns(value) {
        if (this.uS.isMobile)
            value.forEach((x) => (x.isSticky = false));
        this.displayedColumns = value;
    }
    set _data(v) {
        console.log(v);
        this.dataSource = new MatTableDataSource(v || []);
        // this.showPager=v?.length>this.pageSize
        if (this.showPager) {
            this.dataSource.paginator = this.paginator;
            this.dataSource.sort = this.sort;
        }
        this.selection?.clear();
        this.resultsLength = v?.length;
        this.mutableList = v;
    }
    constructor(uS) {
        this.uS = uS;
        this.curvy = false;
        this.formatColumnHeaders = true;
        this.idField = 'id';
        this.noItemTxt = 'There are no items';
        this.nowrap = true;
        this.orderDirection = 'asc';
        this.pageSize = this.uS.isMobile ? 5 : 10;
        this.pageSizeOptions = [5, 10, 15, 20, 50, 100, 200];
        this.placeSelectionAtRight = false; // support customizing the position of the select checkboxes.
        this.resultsLength = 0;
        this.showExport = false;
        this.showFilter = false;
        this.showPager = false;
        this.showRowPointer = false;
        this.smallerFonts = false;
        this.useSelection = false;
        this._rowClick = new EventEmitter();
        this._view = new EventEmitter();
        this.listMutated = new EventEmitter();
        this.selectionChanged = new EventEmitter();
        this.form = new FormGroup({ field: new FormControl(), value: new FormControl() });
        this.selection = new SelectionModel(true, []);
        this.emitCheckbox = new EventEmitter();
        this.pageSizeIncrementor = 10;
        this.optionLabeller = (option, row) => option?.labelFormatter ? option.labelFormatter(row) : option.t;
    }
    ngOnInit() {
        this.selection.changed.subscribe((r) => {
            this.selectionChanged.emit(r);
        });
    }
    ngAfterViewInit() {
        if (this.showPager && this.dataSource) {
            this.dataSource.paginator = this.paginator;
            this.dataSource.sort = this.sort;
        }
    }
    get filterOptions() {
        return this.displayedColumns.map((x) => ({ code: x.f, description: x.t }));
    }
    clearFilter() {
        this.form.reset();
    }
    outputCheckbox(field, item, value) {
        console.log(field, item, value, this.mutableList);
        const find = this.mutableList?.find((x) => x[this.idField] == item[this.idField]);
        if (find)
            find[field] = value;
        this.emitCheckbox.emit({ field, item, value });
        this.listMutated.emit(this.mutableList);
    }
    /** Whether the number of selected elements matches the total number of rows. */
    isAllSelected() {
        const numSelected = this.selection?.selected?.length;
        const numRows = this.dataSource?.data?.length;
        return numSelected === numRows;
    }
    /** Selects all rows if they are not all selected; otherwise clear selection. */
    masterToggle() {
        if (this.isAllSelected()) {
            this.selection.clear();
            return;
        }
        this.selection.select(...this.dataSource.data);
    }
    get selectedItems() {
        return this.selection.selected;
    }
    /** The label for the checkbox on the passed row */
    checkboxLabel(row) {
        if (!row) {
            return `${this.isAllSelected() ? 'deselect' : 'select'} all`;
        }
        return `${this.selection.isSelected(row) ? 'deselect' : 'select'} row ${row.position + 1}`;
    }
    rowClick(e) {
        this._rowClick.emit(e);
    }
    clickBtn(col, row) {
        if (col?.btn?.action)
            col.btn.action(row, col.f);
    }
    getActionStatusCallback(col) {
        return (state) => (col.btn.loading = state);
    }
    increasePageSize() {
        if (this.dataSource?.data?.length <= this.dataSource.paginator.pageSize)
            return;
        this.dataSource.paginator.pageSize =
            this.dataSource.paginator.pageSize + this.pageSizeIncrementor;
        this._data = this.mutableList;
    }
    decreasePageSize() {
        if (this.paginator.pageSize > this.pageSizeIncrementor)
            this.paginator.pageSize =
                this.paginator.pageSize - this.pageSizeIncrementor;
    }
    resetPageSize() {
        this.dataSource.paginator.pageSize = this.pageSize;
        this._data = this.mutableList;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.0.2", ngImport: i0, type: TablePlainComponent, deps: [{ token: i1.UtilityService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.0.2", type: TablePlainComponent, isStandalone: true, selector: "table-plain", inputs: { text: ["label", "text"], options: ["rowOptions", "options"], optionsMap: ["rowOptionsMap", "optionsMap"], centerCells: "centerCells", curvy: "curvy", customSelectClass: "customSelectClass", _displayedColumns: ["displayedColumns", "_displayedColumns"], distinct: "distinct", formatColumnHeaders: "formatColumnHeaders", idField: "idField", noItemTxt: "noItemTxt", nowrap: "nowrap", orderDirection: "orderDirection", orderField: "orderField", pageSize: "pageSize", pageSizeOptions: "pageSizeOptions", placeSelectionAtRight: "placeSelectionAtRight", resultsLength: "resultsLength", showExport: "showExport", showFilter: "showFilter", showPager: "showPager", showRowPointer: "showRowPointer", smallerFonts: "smallerFonts", isDisabledFunc: "isDisabledFunc", useSelection: "useSelection", _data: ["data", "_data"] }, outputs: { _rowClick: "rowClick", _view: "view", listMutated: "listMutated", selectionChanged: "selectionChanged", emitCheckbox: "emitCheckbox" }, viewQueries: [{ propertyName: "paginator", first: true, predicate: MatPaginator, descendants: true }, { propertyName: "sort", first: true, predicate: MatSort, descendants: true }], ngImport: i0, template: "<div class=\" \">\n  <div [ngClass]=\"{ border: distinct }\">\n    <div class=\"table-container\" #container>\n      <div class=\"overflow-auto\">\n        <table mat-table [dataSource]=\"dataSource\" matSort class=\"w-100 d-table   mb-0\"\n          [ngClass]=\"{smallerFonts,nowrap,centerCells,curvy}\">\n          <!-- Checkbox Column -->\n          <ng-container matColumnDef=\"mselect\" [sticky]=\"!placeSelectionAtRight\" [stickyEnd]=\"placeSelectionAtRight\">\n            <th mat-header-cell *matHeaderCellDef>\n              <ng-container *ngIf=\"customSelectClass\">\n                <input type=\"checkbox\" [class]=\"customSelectClass\" (change)=\"$event ? masterToggle() : null\"\n                  [checked]=\"selection.hasValue() && isAllSelected()\"\n                  [indeterminate]=\"selection.hasValue() && !isAllSelected()\" [attr.aria-label]=\"checkboxLabel()\" />\n              </ng-container>\n              <ng-container *ngIf=\"!customSelectClass\">\n                <mat-checkbox class=\"circle-checkbox\" (change)=\"$event ? masterToggle() : null\"\n                  [checked]=\"selection.hasValue() && isAllSelected()\"\n                  [indeterminate]=\"selection.hasValue() && !isAllSelected()\" [aria-label]=\"checkboxLabel()\">\n                </mat-checkbox>\n              </ng-container>\n            </th>\n            <td mat-cell *matCellDef=\"let row\">\n              <ng-container *ngIf=\"customSelectClass\">\n                <input type=\"checkbox\" class=\"form-control control-bg-gray\" (click)=\"$event.stopPropagation()\"\n                  (change)=\"$event ? selection.toggle(row) : null\" [checked]=\"selection.isSelected(row)\"\n                  [attr.aria-label]=\"checkboxLabel(row)\" />\n              </ng-container>\n              <ng-container *ngIf=\"!customSelectClass\">\n                <mat-checkbox class=\"circle-checkbox\" (click)=\"$event.stopPropagation()\"\n                  (change)=\"$event ? selection.toggle(row) : null\" [checked]=\"selection.isSelected(row)\"\n                  [aria-label]=\"checkboxLabel(row)\">\n                </mat-checkbox>\n              </ng-container>\n            </td>\n          </ng-container>\n          <!-- Columns -->\n          <ng-container *ngFor=\"let col of displayedColumns; let i = index\">\n            <ng-container [ngSwitch]=\"col.type\">\n\n\n              <!-- Button -->\n              <ng-container *ngSwitchCase=\"'button'\" matColumnDef=\"{{ col.f|toAny }}\">\n                <th mat-header-cell *matHeaderCellDef>\n                  {{ col.t }}\n                </th>\n                <td mat-cell *matCellDef=\"let row\" class=\"btn-cell\">\n                  <app-btn [icon]=\"col.btn?.icon\" [type]=\"col.btn?.type\" (mclick)=\"clickBtn(col,row)\"\n                    [text]=\"col.btn?.label\" [loading]=\"col.btn?.loading\" [iconBtn]=\"col.btn?.iconBtn\" mclass=\"w-auto\"\n                    [disabled]=\"col.btn?.disabled || col.btn?.loading\"></app-btn>\n                </td>\n              </ng-container>\n              <!--// -->\n\n              <!-- Trend -->\n              <ng-container *ngSwitchCase=\"'trend'\" matColumnDef=\"{{ col.f|toAny }}\">\n                <th mat-header-cell *matHeaderCellDef mat-sort-header>\n                  {{ col.t|titlecase }}\n                </th>\n                <td mat-cell *matCellDef=\"let row\" class=\"btn-cell\">\n                  <precentage-trend [trend]=\"row[col.f]\"></precentage-trend>\n                </td>\n              </ng-container>\n              <!--// -->\n\n\n              <!-- DEFAULT -->\n              <ng-container matColumnDef=\"{{ col.f|toAny }}\" *ngSwitchDefault>\n                <th mat-header-cell *matHeaderCellDef mat-sort-header>\n                  {{formatColumnHeaders?(col.t|titlecase):col.t }}\n                </th>\n                <td mat-cell *matCellDef=\"let row\">\n                  <ng-container *ngIf=\"col.routeFormatter; else elseNoRouteTemplate\">\n                    <a class=\"cell link pointer {{col.itemClassFunc|functionCaller1:row}} \"\n                      [routerLink]=\"[col?.routeFormatter|functionCaller1:row]\"\n                      [queryParams]=\"col?.mqueryParams|functionCaller1:row\"\n                      [matTooltip]=\"(row|getColFormatted:col)|async\" #ele\n                      [matTooltipDisabled]=\"ele.scrollWidth<=ele.offsetWidth\"\n                      [innerHTML]=\"((row|getColFormatted:col)|async)|valueOrX\">\n                    </a>\n                  </ng-container>\n                  <ng-template #elseNoRouteTemplate>\n                    <div class=\"cell {{col.itemClassFunc|functionCaller1:row}} \"\n                      [ngClass]=\"{pointer:col.action,link:col.action}\" (click)=\"col.action?col.action(row,col.f):null\"\n                      [matTooltip]=\"(row|getColFormatted:col)|async\" #ele\n                      [matTooltipDisabled]=\"ele.scrollWidth<=ele.offsetWidth\"\n                      [innerHTML]=\"((row|getColFormatted:col)|async)|valueOrX\">\n                    </div>\n                  </ng-template>\n                </td>\n              </ng-container>\n\n              <!--// -->\n            </ng-container>\n          </ng-container>\n\n          <!-- Options Column -->\n          <ng-container matColumnDef=\"option\" *ngIf=\"options?.length>0||optionsMap\" stickyEnd>\n            <th mat-header-cell class=\"lastStickyItem w-auto\" *matHeaderCellDef disableClear></th>\n            <td mat-cell class=\"lastStickyItem w-auto\" *matCellDef=\"let row\">\n              <ng-container *ngIf=\"optionsMap; else elseOptionsTemplate\">\n                <ng-container *ngIf=\"(optionsMap|functionCaller1:row) as _rowoptions\">\n                  <app-btn type=\"clear\" [matMenuTriggerFor]=\"menu\" class=\"btn ms-2\">\n                    <mat-icon>more_vert</mat-icon>\n                  </app-btn>\n                  <mat-menu #menu=\"matMenu\">\n                    <button mat-menu-item *ngFor=\"let option of _rowoptions\" (click)=\"option.action(row)\">\n                      {{optionLabeller|functionCaller2:option:row}}\n                    </button>\n                  </mat-menu>\n                </ng-container>\n              </ng-container>\n              <ng-template #elseOptionsTemplate>\n                <app-btn type=\"clear\" [matMenuTriggerFor]=\"menu\" class=\"btn ms-2\">\n                  <mat-icon>more_vert</mat-icon>\n                </app-btn>\n                <mat-menu #menu=\"matMenu\">\n                  <button mat-menu-item *ngFor=\"let option of options\" (click)=\"option.action(row)\">\n                    {{optionLabeller|functionCaller2:option:row}}\n                  </button>\n                </mat-menu>\n              </ng-template>\n            </td>\n          </ng-container>\n\n\n\n          <ng-container\n            *ngIf=\"displayedColumns | getRawFields: !!options?.length:useSelection:placeSelectionAtRight as dcols\">\n            <tr mat-header-row *matHeaderRowDef=\"dcols\"></tr>\n            <tr mat-row *matRowDef=\"let row; columns: dcols\"  [ngClass]=\"{pointer:showRowPointer,selected:selection.isSelected(row),disabled:isDisabledFunc?isDisabledFunc(row):false}\"\n            (click)=\"rowClick(row)\">\n            </tr>\n            <tr class=\"mat-row\" *matNoDataRow>\n              <td class=\"mat-cell\" [attr.colspan]=\"dcols?.length || 1\">\n                {{ noItemTxt }}\n              </td>\n            </tr>\n          </ng-container>\n        </table>\n      </div>\n      <ng-container *ngIf=\"showPager\">\n        <mat-paginator mresponsiveness [hideMobile]=\"true\" [length]=\"resultsLength\" [pageSizeOptions]=\"pageSizeOptions\"\n          [pageSize]=\"pageSize\" showFirstLastButtons>\n        </mat-paginator>\n        <div class=\"  \" mresponsiveness [hideDesktop]=\"true\">\n          <div class=\" d-flex justify-content-center\">\n            <app-btn text=\"See more\" type=\"clear-pm\" (mclick)=\"increasePageSize()\"\n              *ngIf=\"dataSource?.data?.length>paginator?.pageSize;else showLess\" />\n            <ng-template #showLess>\n              <app-btn text=\"See less\" type=\"clear-pm\" (mclick)=\"resetPageSize()\" />\n            </ng-template>\n          </div>\n        </div>\n      </ng-container>\n    </div>\n  </div>\n</div>", styles: ["::ng-deep mat-paginator .mat-mdc-form-field{width:100px;height:25px;margin-top:0;margin-bottom:0;background-color:transparent!important;border:none}::ng-deep mat-paginator .mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mat-mdc-form-field-infix{height:auto;padding:0;color:var(--primary)}::ng-deep .mdc-data-table__header-cell{color:#333!important;background-color:transparent!important;font-style:normal;font-weight:600;font-size:14px;line-height:19px}::ng-deep mat-paginator{border-radius:0 0 16px 16px}::ng-deep .mat-mdc-table{background:rgba(255,255,255,0)}::ng-deep .mat-mdc-table .mat-mdc-row:hover,::ng-deep .mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}::ng-deep .mat-mdc-table .mat-mdc-row.selected:hover,::ng-deep .mat-mdc-table .mat-mdc-footer-row.selected:hover{background-color:#f0f6ff}::ng-deep th.mat-mdc-table-sticky,::ng-deep td.mat-mdc-table-sticky{background-color:#fff!important}::ng-deep .colour{height:15px;width:15px;display:inline-block;border-radius:5px}::ng-deep .centerCells .mat-sort-header-container{justify-content:center}::ng-deep .default.colour{background-color:#545454}::ng-deep .btn-cell{width:1%}::ng-deep .mat-sort-header-container{height:40px}.mat-header-cell{font-weight:600;font-size:14px;line-height:21px}.smallerFonts td,.smallerFonts th{font-size:.7rem}.nowrap td,.nowrap th{white-space:nowrap;text-align:left;padding:0 24px;border-radius:16px}.nowrap td{border-radius:0}:host ::ng-deep input[type=checkbox]:not(.form-control){border:1px solid rgba(80,78,245,.3019607843)}.table tr td:hover{color:unset!important;text-decoration:unset;cursor:unset}tr.mat-header-row{height:auto}.centerCells td{text-align:center}.curvy tr{border-radius:0 10px}.title{font-style:normal;font-weight:600;font-size:24px;line-height:29px;color:#333}.table-container{background:#ffffff;border:1px solid #e0e0e0;box-shadow:none;border-radius:16px}.table-container .mat-paginator,.table-container .mat-table{background:transparent}.mat-header-cell{color:#333;background-color:transparent}.cell.notLink:hover{color:inherit}.cell{text-overflow:ellipsis;display:block;white-space:nowrap;overflow:hidden;font-style:normal;font-weight:400;font-size:14px;line-height:19px;color:#333}.noContent .title{font-style:normal;font-weight:600;font-size:14px;line-height:18px;text-align:center;color:#266dd3}.noContent .sub-title{font-style:normal;font-weight:400;font-size:12px;line-height:18px;text-align:center;width:206px;color:#828282}.table{border:1px solid #f2f2f2;border-radius:16px}.selected{background:#f0f6ff;background-color:#f0f6ff}.disabled .cell{font-style:normal;font-weight:400;font-size:14px;line-height:19px;color:#bdbdbd}.lastStickyItem{padding:0!important;background-image:linear-gradient(270deg,rgb(255,255,255),rgba(255,255,255,.7490196078))!important;border-radius:0!important}th.lastStickyItem{background:transparent!important}.link{color:var(--primary)}\n"], dependencies: [{ kind: "directive", type: NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "ngmodule", type: MatTableModule }, { kind: "component", type: i2.MatTable, selector: "mat-table, table[mat-table]", exportAs: ["matTable"] }, { kind: "directive", type: i2.MatHeaderCellDef, selector: "[matHeaderCellDef]" }, { kind: "directive", type: i2.MatHeaderRowDef, selector: "[matHeaderRowDef]", inputs: ["matHeaderRowDef", "matHeaderRowDefSticky"] }, { kind: "directive", type: i2.MatColumnDef, selector: "[matColumnDef]", inputs: ["sticky", "matColumnDef"] }, { kind: "directive", type: i2.MatCellDef, selector: "[matCellDef]" }, { kind: "directive", type: i2.MatRowDef, selector: "[matRowDef]", inputs: ["matRowDefColumns", "matRowDefWhen"] }, { kind: "directive", type: i2.MatHeaderCell, selector: "mat-header-cell, th[mat-header-cell]" }, { kind: "directive", type: i2.MatCell, selector: "mat-cell, td[mat-cell]" }, { kind: "component", type: i2.MatHeaderRow, selector: "mat-header-row, tr[mat-header-row]", exportAs: ["matHeaderRow"] }, { kind: "component", type: i2.MatRow, selector: "mat-row, tr[mat-row]", exportAs: ["matRow"] }, { kind: "directive", type: i2.MatNoDataRow, selector: "ng-template[matNoDataRow]" }, { kind: "ngmodule", type: MatSortModule }, { kind: "directive", type: i3.MatSort, selector: "[matSort]", inputs: ["matSortDisabled", "matSortActive", "matSortStart", "matSortDirection", "matSortDisableClear"], outputs: ["matSortChange"], exportAs: ["matSort"] }, { kind: "component", type: i3.MatSortHeader, selector: "[mat-sort-header]", inputs: ["disabled", "mat-sort-header", "arrowPosition", "start", "sortActionDescription", "disableClear"], exportAs: ["matSortHeader"] }, { kind: "directive", type: NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "ngmodule", type: MatCheckboxModule }, { kind: "component", type: i4.MatCheckbox, selector: "mat-checkbox", inputs: ["disableRipple", "color", "tabIndex"], exportAs: ["matCheckbox"] }, { kind: "directive", type: NgFor, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: NgSwitch, selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { kind: "directive", type: NgSwitchCase, selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }, { kind: "component", type: BtnComponent, selector: "app-btn,btn", inputs: ["formSchema", "icon", "type", "group", "actionType", "animate", "badge", "class", "customIcon", "disabled", "form", "help", "iconBtn", "lite", "loading", "mclass", "showHelpIcon", "mini", "text", "valid", "subButtons", "onFormInvalid"], outputs: ["mclick"] }, { kind: "component", type: PrecentageTrendComponent, selector: "precentage-trend", inputs: ["trend", "message"] }, { kind: "directive", type: NgSwitchDefault, selector: "[ngSwitchDefault]" }, { kind: "directive", type: RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "ngmodule", type: MatTooltipModule }, { kind: "directive", type: i5.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { kind: "ngmodule", type: MatMenuModule }, { kind: "component", type: i6.MatMenu, selector: "mat-menu", exportAs: ["matMenu"] }, { kind: "component", type: i6.MatMenuItem, selector: "[mat-menu-item]", inputs: ["disabled", "disableRipple", "role"], exportAs: ["matMenuItem"] }, { kind: "directive", type: i6.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", exportAs: ["matMenuTrigger"] }, { kind: "ngmodule", type: MatIconModule }, { kind: "component", type: i7.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "ngmodule", type: MatPaginatorModule }, { kind: "component", type: i8.MatPaginator, selector: "mat-paginator", inputs: ["disabled"], exportAs: ["matPaginator"] }, { kind: "directive", type: ResponsivenessDirective, selector: "[mresponsiveness]", inputs: ["mobileClass", "desktopClass", "hideMobile", "hideDesktop"] }, { kind: "directive", type: hideMobileDirective, selector: "[hideMobile]" }, { kind: "directive", type: hideDesktopDirective, selector: "[hideDesktop]" }, { kind: "pipe", type: AsyncPipe, name: "async" }, { kind: "pipe", type: TitleCasePipe, name: "titlecase" }, { kind: "pipe", type: GetColFormattedPipe, name: "getColFormatted" }, { kind: "pipe", type: GetRawFieldsPipe, name: "getRawFields" }, { kind: "pipe", type: FunctionCaller1, name: "functionCaller1" }, { kind: "pipe", type: FunctionCaller2, name: "functionCaller2" }, { kind: "pipe", type: ToAnyPipe, name: "toAny" }, { kind: "pipe", type: ValueOrXPipe, name: "valueOrX" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.0.2", ngImport: i0, type: TablePlainComponent, decorators: [{
            type: Component,
            args: [{ selector: 'table-plain', standalone: true, imports: [
                        NgClass,
                        MatTableModule,
                        MatSortModule,
                        NgIf,
                        MatCheckboxModule,
                        NgFor,
                        NgSwitch,
                        NgSwitchCase,
                        BtnComponent,
                        PrecentageTrendComponent,
                        NgSwitchDefault,
                        RouterLink,
                        MatTooltipModule,
                        MatMenuModule,
                        MatIconModule,
                        MatPaginatorModule,
                        ResponsivenessDirective,
                        hideMobileDirective,
                        hideDesktopDirective,
                        AsyncPipe,
                        TitleCasePipe,
                        GetColFormattedPipe,
                        GetRawFieldsPipe,
                        FunctionCaller1,
                        FunctionCaller2,
                        ToAnyPipe,
                        ValueOrXPipe,
                    ], template: "<div class=\" \">\n  <div [ngClass]=\"{ border: distinct }\">\n    <div class=\"table-container\" #container>\n      <div class=\"overflow-auto\">\n        <table mat-table [dataSource]=\"dataSource\" matSort class=\"w-100 d-table   mb-0\"\n          [ngClass]=\"{smallerFonts,nowrap,centerCells,curvy}\">\n          <!-- Checkbox Column -->\n          <ng-container matColumnDef=\"mselect\" [sticky]=\"!placeSelectionAtRight\" [stickyEnd]=\"placeSelectionAtRight\">\n            <th mat-header-cell *matHeaderCellDef>\n              <ng-container *ngIf=\"customSelectClass\">\n                <input type=\"checkbox\" [class]=\"customSelectClass\" (change)=\"$event ? masterToggle() : null\"\n                  [checked]=\"selection.hasValue() && isAllSelected()\"\n                  [indeterminate]=\"selection.hasValue() && !isAllSelected()\" [attr.aria-label]=\"checkboxLabel()\" />\n              </ng-container>\n              <ng-container *ngIf=\"!customSelectClass\">\n                <mat-checkbox class=\"circle-checkbox\" (change)=\"$event ? masterToggle() : null\"\n                  [checked]=\"selection.hasValue() && isAllSelected()\"\n                  [indeterminate]=\"selection.hasValue() && !isAllSelected()\" [aria-label]=\"checkboxLabel()\">\n                </mat-checkbox>\n              </ng-container>\n            </th>\n            <td mat-cell *matCellDef=\"let row\">\n              <ng-container *ngIf=\"customSelectClass\">\n                <input type=\"checkbox\" class=\"form-control control-bg-gray\" (click)=\"$event.stopPropagation()\"\n                  (change)=\"$event ? selection.toggle(row) : null\" [checked]=\"selection.isSelected(row)\"\n                  [attr.aria-label]=\"checkboxLabel(row)\" />\n              </ng-container>\n              <ng-container *ngIf=\"!customSelectClass\">\n                <mat-checkbox class=\"circle-checkbox\" (click)=\"$event.stopPropagation()\"\n                  (change)=\"$event ? selection.toggle(row) : null\" [checked]=\"selection.isSelected(row)\"\n                  [aria-label]=\"checkboxLabel(row)\">\n                </mat-checkbox>\n              </ng-container>\n            </td>\n          </ng-container>\n          <!-- Columns -->\n          <ng-container *ngFor=\"let col of displayedColumns; let i = index\">\n            <ng-container [ngSwitch]=\"col.type\">\n\n\n              <!-- Button -->\n              <ng-container *ngSwitchCase=\"'button'\" matColumnDef=\"{{ col.f|toAny }}\">\n                <th mat-header-cell *matHeaderCellDef>\n                  {{ col.t }}\n                </th>\n                <td mat-cell *matCellDef=\"let row\" class=\"btn-cell\">\n                  <app-btn [icon]=\"col.btn?.icon\" [type]=\"col.btn?.type\" (mclick)=\"clickBtn(col,row)\"\n                    [text]=\"col.btn?.label\" [loading]=\"col.btn?.loading\" [iconBtn]=\"col.btn?.iconBtn\" mclass=\"w-auto\"\n                    [disabled]=\"col.btn?.disabled || col.btn?.loading\"></app-btn>\n                </td>\n              </ng-container>\n              <!--// -->\n\n              <!-- Trend -->\n              <ng-container *ngSwitchCase=\"'trend'\" matColumnDef=\"{{ col.f|toAny }}\">\n                <th mat-header-cell *matHeaderCellDef mat-sort-header>\n                  {{ col.t|titlecase }}\n                </th>\n                <td mat-cell *matCellDef=\"let row\" class=\"btn-cell\">\n                  <precentage-trend [trend]=\"row[col.f]\"></precentage-trend>\n                </td>\n              </ng-container>\n              <!--// -->\n\n\n              <!-- DEFAULT -->\n              <ng-container matColumnDef=\"{{ col.f|toAny }}\" *ngSwitchDefault>\n                <th mat-header-cell *matHeaderCellDef mat-sort-header>\n                  {{formatColumnHeaders?(col.t|titlecase):col.t }}\n                </th>\n                <td mat-cell *matCellDef=\"let row\">\n                  <ng-container *ngIf=\"col.routeFormatter; else elseNoRouteTemplate\">\n                    <a class=\"cell link pointer {{col.itemClassFunc|functionCaller1:row}} \"\n                      [routerLink]=\"[col?.routeFormatter|functionCaller1:row]\"\n                      [queryParams]=\"col?.mqueryParams|functionCaller1:row\"\n                      [matTooltip]=\"(row|getColFormatted:col)|async\" #ele\n                      [matTooltipDisabled]=\"ele.scrollWidth<=ele.offsetWidth\"\n                      [innerHTML]=\"((row|getColFormatted:col)|async)|valueOrX\">\n                    </a>\n                  </ng-container>\n                  <ng-template #elseNoRouteTemplate>\n                    <div class=\"cell {{col.itemClassFunc|functionCaller1:row}} \"\n                      [ngClass]=\"{pointer:col.action,link:col.action}\" (click)=\"col.action?col.action(row,col.f):null\"\n                      [matTooltip]=\"(row|getColFormatted:col)|async\" #ele\n                      [matTooltipDisabled]=\"ele.scrollWidth<=ele.offsetWidth\"\n                      [innerHTML]=\"((row|getColFormatted:col)|async)|valueOrX\">\n                    </div>\n                  </ng-template>\n                </td>\n              </ng-container>\n\n              <!--// -->\n            </ng-container>\n          </ng-container>\n\n          <!-- Options Column -->\n          <ng-container matColumnDef=\"option\" *ngIf=\"options?.length>0||optionsMap\" stickyEnd>\n            <th mat-header-cell class=\"lastStickyItem w-auto\" *matHeaderCellDef disableClear></th>\n            <td mat-cell class=\"lastStickyItem w-auto\" *matCellDef=\"let row\">\n              <ng-container *ngIf=\"optionsMap; else elseOptionsTemplate\">\n                <ng-container *ngIf=\"(optionsMap|functionCaller1:row) as _rowoptions\">\n                  <app-btn type=\"clear\" [matMenuTriggerFor]=\"menu\" class=\"btn ms-2\">\n                    <mat-icon>more_vert</mat-icon>\n                  </app-btn>\n                  <mat-menu #menu=\"matMenu\">\n                    <button mat-menu-item *ngFor=\"let option of _rowoptions\" (click)=\"option.action(row)\">\n                      {{optionLabeller|functionCaller2:option:row}}\n                    </button>\n                  </mat-menu>\n                </ng-container>\n              </ng-container>\n              <ng-template #elseOptionsTemplate>\n                <app-btn type=\"clear\" [matMenuTriggerFor]=\"menu\" class=\"btn ms-2\">\n                  <mat-icon>more_vert</mat-icon>\n                </app-btn>\n                <mat-menu #menu=\"matMenu\">\n                  <button mat-menu-item *ngFor=\"let option of options\" (click)=\"option.action(row)\">\n                    {{optionLabeller|functionCaller2:option:row}}\n                  </button>\n                </mat-menu>\n              </ng-template>\n            </td>\n          </ng-container>\n\n\n\n          <ng-container\n            *ngIf=\"displayedColumns | getRawFields: !!options?.length:useSelection:placeSelectionAtRight as dcols\">\n            <tr mat-header-row *matHeaderRowDef=\"dcols\"></tr>\n            <tr mat-row *matRowDef=\"let row; columns: dcols\"  [ngClass]=\"{pointer:showRowPointer,selected:selection.isSelected(row),disabled:isDisabledFunc?isDisabledFunc(row):false}\"\n            (click)=\"rowClick(row)\">\n            </tr>\n            <tr class=\"mat-row\" *matNoDataRow>\n              <td class=\"mat-cell\" [attr.colspan]=\"dcols?.length || 1\">\n                {{ noItemTxt }}\n              </td>\n            </tr>\n          </ng-container>\n        </table>\n      </div>\n      <ng-container *ngIf=\"showPager\">\n        <mat-paginator mresponsiveness [hideMobile]=\"true\" [length]=\"resultsLength\" [pageSizeOptions]=\"pageSizeOptions\"\n          [pageSize]=\"pageSize\" showFirstLastButtons>\n        </mat-paginator>\n        <div class=\"  \" mresponsiveness [hideDesktop]=\"true\">\n          <div class=\" d-flex justify-content-center\">\n            <app-btn text=\"See more\" type=\"clear-pm\" (mclick)=\"increasePageSize()\"\n              *ngIf=\"dataSource?.data?.length>paginator?.pageSize;else showLess\" />\n            <ng-template #showLess>\n              <app-btn text=\"See less\" type=\"clear-pm\" (mclick)=\"resetPageSize()\" />\n            </ng-template>\n          </div>\n        </div>\n      </ng-container>\n    </div>\n  </div>\n</div>", styles: ["::ng-deep mat-paginator .mat-mdc-form-field{width:100px;height:25px;margin-top:0;margin-bottom:0;background-color:transparent!important;border:none}::ng-deep mat-paginator .mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mat-mdc-form-field-infix{height:auto;padding:0;color:var(--primary)}::ng-deep .mdc-data-table__header-cell{color:#333!important;background-color:transparent!important;font-style:normal;font-weight:600;font-size:14px;line-height:19px}::ng-deep mat-paginator{border-radius:0 0 16px 16px}::ng-deep .mat-mdc-table{background:rgba(255,255,255,0)}::ng-deep .mat-mdc-table .mat-mdc-row:hover,::ng-deep .mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}::ng-deep .mat-mdc-table .mat-mdc-row.selected:hover,::ng-deep .mat-mdc-table .mat-mdc-footer-row.selected:hover{background-color:#f0f6ff}::ng-deep th.mat-mdc-table-sticky,::ng-deep td.mat-mdc-table-sticky{background-color:#fff!important}::ng-deep .colour{height:15px;width:15px;display:inline-block;border-radius:5px}::ng-deep .centerCells .mat-sort-header-container{justify-content:center}::ng-deep .default.colour{background-color:#545454}::ng-deep .btn-cell{width:1%}::ng-deep .mat-sort-header-container{height:40px}.mat-header-cell{font-weight:600;font-size:14px;line-height:21px}.smallerFonts td,.smallerFonts th{font-size:.7rem}.nowrap td,.nowrap th{white-space:nowrap;text-align:left;padding:0 24px;border-radius:16px}.nowrap td{border-radius:0}:host ::ng-deep input[type=checkbox]:not(.form-control){border:1px solid rgba(80,78,245,.3019607843)}.table tr td:hover{color:unset!important;text-decoration:unset;cursor:unset}tr.mat-header-row{height:auto}.centerCells td{text-align:center}.curvy tr{border-radius:0 10px}.title{font-style:normal;font-weight:600;font-size:24px;line-height:29px;color:#333}.table-container{background:#ffffff;border:1px solid #e0e0e0;box-shadow:none;border-radius:16px}.table-container .mat-paginator,.table-container .mat-table{background:transparent}.mat-header-cell{color:#333;background-color:transparent}.cell.notLink:hover{color:inherit}.cell{text-overflow:ellipsis;display:block;white-space:nowrap;overflow:hidden;font-style:normal;font-weight:400;font-size:14px;line-height:19px;color:#333}.noContent .title{font-style:normal;font-weight:600;font-size:14px;line-height:18px;text-align:center;color:#266dd3}.noContent .sub-title{font-style:normal;font-weight:400;font-size:12px;line-height:18px;text-align:center;width:206px;color:#828282}.table{border:1px solid #f2f2f2;border-radius:16px}.selected{background:#f0f6ff;background-color:#f0f6ff}.disabled .cell{font-style:normal;font-weight:400;font-size:14px;line-height:19px;color:#bdbdbd}.lastStickyItem{padding:0!important;background-image:linear-gradient(270deg,rgb(255,255,255),rgba(255,255,255,.7490196078))!important;border-radius:0!important}th.lastStickyItem{background:transparent!important}.link{color:var(--primary)}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.UtilityService }]; }, propDecorators: { text: [{
                type: Input,
                args: ['label']
            }], options: [{
                type: Input,
                args: ['rowOptions']
            }], optionsMap: [{
                type: Input,
                args: ['rowOptionsMap']
            }], centerCells: [{
                type: Input
            }], curvy: [{
                type: Input
            }], customSelectClass: [{
                type: Input
            }], _displayedColumns: [{
                type: Input,
                args: ['displayedColumns']
            }], distinct: [{
                type: Input
            }], formatColumnHeaders: [{
                type: Input
            }], idField: [{
                type: Input
            }], noItemTxt: [{
                type: Input
            }], nowrap: [{
                type: Input
            }], orderDirection: [{
                type: Input
            }], orderField: [{
                type: Input
            }], pageSize: [{
                type: Input
            }], pageSizeOptions: [{
                type: Input
            }], placeSelectionAtRight: [{
                type: Input
            }], resultsLength: [{
                type: Input
            }], showExport: [{
                type: Input
            }], showFilter: [{
                type: Input
            }], showPager: [{
                type: Input
            }], showRowPointer: [{
                type: Input
            }], smallerFonts: [{
                type: Input
            }], isDisabledFunc: [{
                type: Input
            }], useSelection: [{
                type: Input
            }], _rowClick: [{
                type: Output,
                args: ['rowClick']
            }], _view: [{
                type: Output,
                args: ['view']
            }], listMutated: [{
                type: Output
            }], selectionChanged: [{
                type: Output
            }], paginator: [{
                type: ViewChild,
                args: [MatPaginator]
            }], sort: [{
                type: ViewChild,
                args: [MatSort]
            }], emitCheckbox: [{
                type: Output
            }], _data: [{
                type: Input,
                args: ['data']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUtcGxhaW4uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvaGVybGhheS1oZWxwZXJzL3NyYy9saWIvc2hhcmVkL2NvbXBvbmVudHMvdGFibGUtcGxhaW4vdGFibGUtcGxhaW4uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvaGVybGhheS1oZWxwZXJzL3NyYy9saWIvc2hhcmVkL2NvbXBvbmVudHMvdGFibGUtcGxhaW4vdGFibGUtcGxhaW4uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFtQixjQUFjLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMzRSxPQUFPLEVBQ0wsU0FBUyxFQUNULFlBQVksRUFDWixLQUFLLEVBRUwsTUFBTSxFQUNOLFNBQVMsR0FDVixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3hELE9BQU8sRUFBRSxZQUFZLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUMvRSxPQUFPLEVBQUUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ2hFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxjQUFjLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUc3RSxPQUFPLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDckcsT0FBTyxFQUFFLG1CQUFtQixFQUFFLGdCQUFnQixFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3JFLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxtQkFBbUIsRUFBRSxvQkFBb0IsRUFBRSxNQUFNLDJDQUEyQyxDQUFDO0FBQy9ILE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx3QkFBd0IsQ0FB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QUFLO2dCQUNHLGNBQWM7c0JBQXRCLEtBQUs7Z0JBQ0csWUFBWTtzQkFBcEIsS0FBSztnQkFDYyxTQUFTO3NCQUE1QixNQUFNO3VCQUFDLFVBQVU7Z0JBQ0YsS0FBSztzQkFBcEIsTUFBTTt1QkFBQyxNQUFNO2dCQUNKLFdBQVc7c0JBQXBCLE1BQU07Z0JBQ0csZ0JBQWdCO3NCQUF6QixNQUFNO2dCQU9rQixTQUFTO3NCQUFqQyxTQUFTO3VCQUFDLFlBQVk7Z0JBQ0gsSUFBSTtzQkFBdkIsU0FBUzt1QkFBQyxPQUFPO2dCQUVSLFlBQVk7c0JBQXJCLE1BQU07Z0JBS1ksS0FBSztzQkFBdkIsS0FBSzt1QkFBQyxNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2VsZWN0aW9uQ2hhbmdlLCBTZWxlY3Rpb25Nb2RlbCB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9jb2xsZWN0aW9ucyc7XG5pbXBvcnQge1xuICBDb21wb25lbnQsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5wdXQsXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBWaWV3Q2hpbGQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUdyb3VwLCBGb3JtQ29udHJvbCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IE1hdFBhZ2luYXRvciwgTWF0UGFnaW5hdG9yTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvcGFnaW5hdG9yJztcbmltcG9ydCB7IE1hdFNvcnQsIE1hdFNvcnRNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9zb3J0JztcbmltcG9ydCB7IE1hdFRhYmxlRGF0YVNvdXJjZSwgTWF0VGFibGVNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC90YWJsZSc7XG5pbXBvcnQgeyBVdGlsaXR5U2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3NlcnZpY2VzL3V0aWxpdHkuc2VydmljZSc7XG5pbXBvcnQgeyBJUm93T3B0aW9uLCBJVGFibGVDb2wsIFNvcnRUeXBlLCBUYWJsZUNvbCB9IGZyb20gJy4vdGFibGUubW9kZWwnO1xuaW1wb3J0IHsgRnVuY3Rpb25DYWxsZXIxLCBGdW5jdGlvbkNhbGxlcjIsIFRvQW55UGlwZSwgVmFsdWVPclhQaXBlIH0gZnJvbSAnLi4vLi4vcGlwZXMvdXRpbGl0eS5waXBlJztcbmltcG9ydCB7IEdldENvbEZvcm1hdHRlZFBpcGUsIEdldFJhd0ZpZWxkc1BpcGUgfSBmcm9tICcuL3RhYmxlLnBpcGUnO1xuaW1wb3J0IHsgUmVzcG9uc2l2ZW5lc3NEaXJlY3RpdmUsIGhpZGVNb2JpbGVEaXJlY3RpdmUsIGhpZGVEZXNrdG9wRGlyZWN0aXZlIH0gZnJvbSAnLi4vLi4vZGlyZWN0aXZlcy9yZXNwb25zaXZlbmVzcy5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgTWF0SWNvbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2ljb24nO1xuaW1wb3J0IHsgTWF0TWVudU1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL21lbnUnO1xuaW1wb3J0IHsgTWF0VG9vbHRpcE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3Rvb2x0aXAnO1xuaW1wb3J0IHsgUm91dGVyTGluayB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBCdG5Db21wb25lbnQgfSBmcm9tICcuLi9idG4vYnRuLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBNYXRDaGVja2JveE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2NoZWNrYm94JztcbmltcG9ydCB7IE5nQ2xhc3MsIE5nSWYsIE5nRm9yLCBOZ1N3aXRjaCwgTmdTd2l0Y2hDYXNlLCBOZ1N3aXRjaERlZmF1bHQsIEFzeW5jUGlwZSwgVGl0bGVDYXNlUGlwZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBQcmVjZW50YWdlVHJlbmRDb21wb25lbnQgfSBmcm9tICcuLi9wcmVjZW50YWdlLXRyZW5kL3ByZWNlbnRhZ2UtdHJlbmQuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd0YWJsZS1wbGFpbicsXG4gICAgdGVtcGxhdGVVcmw6ICcuL3RhYmxlLXBsYWluLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi90YWJsZS1wbGFpbi5jb21wb25lbnQuc2NzcyddLFxuICAgIHN0YW5kYWxvbmU6IHRydWUsXG4gICAgaW1wb3J0czogW1xuICAgICAgICBOZ0NsYXNzLFxuICAgICAgICBNYXRUYWJsZU1vZHVsZSxcbiAgICAgICAgTWF0U29ydE1vZHVsZSxcbiAgICAgICAgTmdJZixcbiAgICAgICAgTWF0Q2hlY2tib3hNb2R1bGUsXG4gICAgICAgIE5nRm9yLFxuICAgICAgICBOZ1N3aXRjaCxcbiAgICAgICAgTmdTd2l0Y2hDYXNlLFxuICAgICAgICBCdG5Db21wb25lbnQsXG4gICAgICAgIFByZWNlbnRhZ2VUcmVuZENvbXBvbmVudCxcbiAgICAgICAgTmdTd2l0Y2hEZWZhdWx0LFxuICAgICAgICBSb3V0ZXJMaW5rLFxuICAgICAgICBNYXRUb29sdGlwTW9kdWxlLFxuICAgICAgICBNYXRNZW51TW9kdWxlLFxuICAgICAgICBNYXRJY29uTW9kdWxlLFxuICAgICAgICBNYXRQYWdpbmF0b3JNb2R1bGUsXG4gICAgICAgIFJlc3BvbnNpdmVuZXNzRGlyZWN0aXZlLFxuICAgICAgICBoaWRlTW9iaWxlRGlyZWN0aXZlLFxuICAgICAgICBoaWRlRGVza3RvcERpcmVjdGl2ZSxcbiAgICAgICAgQXN5bmNQaXBlLFxuICAgICAgICBUaXRsZUNhc2VQaXBlLFxuICAgICAgICBHZXRDb2xGb3JtYXR0ZWRQaXBlLFxuICAgICAgICBHZXRSYXdGaWVsZHNQaXBlLFxuICAgICAgICBGdW5jdGlvbkNhbGxlcjEsXG4gICAgICAgIEZ1bmN0aW9uQ2FsbGVyMixcbiAgICAgICAgVG9BbnlQaXBlLFxuICAgICAgICBWYWx1ZU9yWFBpcGUsXG4gICAgXSxcbn0pXG5leHBvcnQgY2xhc3MgVGFibGVQbGFpbkNvbXBvbmVudDxUSXRlbT4gaW1wbGVtZW50cyBPbkluaXQge1xuICBASW5wdXQoJ2xhYmVsJykgdGV4dDogc3RyaW5nO1xuICBASW5wdXQoJ3Jvd09wdGlvbnMnKSBvcHRpb25zOiBJUm93T3B0aW9uW107XG4gIEBJbnB1dCgncm93T3B0aW9uc01hcCcpIG9wdGlvbnNNYXA6IChyb3c6IFRJdGVtKSA9PiBJUm93T3B0aW9uPFRJdGVtPltdO1xuICBASW5wdXQoKSBjZW50ZXJDZWxsczogYm9vbGVhbjtcbiAgQElucHV0KCkgY3VydnkgPSBmYWxzZTtcbiAgQElucHV0KCkgY3VzdG9tU2VsZWN0Q2xhc3M7IC8vIGN1c3RvbSBjbGFzcyBmb3Igcm93IHNlbGVjdGlvbiBjaGVja2JveGVzXG4gIGRpc3BsYXllZENvbHVtbnM6IFRhYmxlQ29sW107XG4gIEBJbnB1dCgnZGlzcGxheWVkQ29sdW1ucycpIHNldCBfZGlzcGxheWVkQ29sdW1ucyh2YWx1ZTogVGFibGVDb2xbXSkge1xuICAgIGlmICh0aGlzLnVTLmlzTW9iaWxlKSB2YWx1ZS5mb3JFYWNoKCh4KSA9PiAoeC5pc1N0aWNreSA9IGZhbHNlKSk7XG4gICAgdGhpcy5kaXNwbGF5ZWRDb2x1bW5zID0gdmFsdWU7XG4gIH1cbiAgQElucHV0KCkgZGlzdGluY3Q6IGJvb2xlYW47XG4gIEBJbnB1dCgpIGZvcm1hdENvbHVtbkhlYWRlcnMgPSB0cnVlO1xuICBASW5wdXQoKSBpZEZpZWxkOiBzdHJpbmcgPSAnaWQnO1xuICBASW5wdXQoKSBub0l0ZW1UeHQ6IHN0cmluZyA9ICdUaGVyZSBhcmUgbm8gaXRlbXMnO1xuICBASW5wdXQoKSBub3dyYXAgPSB0cnVlO1xuICBASW5wdXQoKSBvcmRlckRpcmVjdGlvbjogU29ydFR5cGUgPSAnYXNjJztcbiAgQElucHV0KCkgb3JkZXJGaWVsZDogc3RyaW5nO1xuICBASW5wdXQoKSBwYWdlU2l6ZSA9IHRoaXMudVMuaXNNb2JpbGUgPyA1IDogMTA7XG4gIEBJbnB1dCgpIHBhZ2VTaXplT3B0aW9ucyA9IFs1LCAxMCwgMTUsIDIwLCA1MCwgMTAwLCAyMDBdO1xuICBASW5wdXQoKSBwbGFjZVNlbGVjdGlvbkF0UmlnaHQgPSBmYWxzZTsgLy8gc3VwcG9ydCBjdXN0b21pemluZyB0aGUgcG9zaXRpb24gb2YgdGhlIHNlbGVjdCBjaGVja2JveGVzLlxuICBASW5wdXQoKSByZXN1bHRzTGVuZ3RoID0gMDtcbiAgQElucHV0KCkgc2hvd0V4cG9ydCA9IGZhbHNlO1xuICBASW5wdXQoKSBzaG93RmlsdGVyID0gZmFsc2U7XG4gIEBJbnB1dCgpIHNob3dQYWdlciA9IGZhbHNlO1xuICBASW5wdXQoKSBzaG93Um93UG9pbnRlciA9IGZhbHNlO1xuICBASW5wdXQoKSBzbWFsbGVyRm9udHMgPSBmYWxzZTtcbiAgQElucHV0KCkgaXNEaXNhYmxlZEZ1bmM6IChyb3c6IFRJdGVtKSA9PiBib29sZWFuO1xuICBASW5wdXQoKSB1c2VTZWxlY3Rpb24gPSBmYWxzZTtcbiAgQE91dHB1dCgncm93Q2xpY2snKSBfcm93Q2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgndmlldycpIF92aWV3ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoKSBsaXN0TXV0YXRlZCA9IG5ldyBFdmVudEVtaXR0ZXI8VEl0ZW1bXT4oKTtcbiAgQE91dHB1dCgpIHNlbGVjdGlvbkNoYW5nZWQgPSBuZXcgRXZlbnRFbWl0dGVyPFNlbGVjdGlvbkNoYW5nZTxUSXRlbT4+KCk7XG4gIGRhdGFTb3VyY2U6IE1hdFRhYmxlRGF0YVNvdXJjZTxhbnk+O1xuICBkZWZhdWx0RmlsdGVyUHJlZGljYXRlOiBhbnk7XG4gIGZvcm0gPSBuZXcgRm9ybUdyb3VwKHsgZmllbGQ6IG5ldyBGb3JtQ29udHJvbCgpLCB2YWx1ZTogbmV3IEZvcm1Db250cm9sKCkgfSk7XG4gIG11dGFibGVMaXN0OiBhbnlbXTtcbiAgc2VsZWN0aW9uID0gbmV3IFNlbGVjdGlvbk1vZGVsPFRJdGVtPih0cnVlLCBbXSk7XG5cbiAgQFZpZXdDaGlsZChNYXRQYWdpbmF0b3IpIHBhZ2luYXRvcjogTWF0UGFnaW5hdG9yO1xuICBAVmlld0NoaWxkKE1hdFNvcnQpIHNvcnQ6IE1hdFNvcnQ7XG5cbiAgQE91dHB1dCgpIGVtaXRDaGVja2JveCA9IG5ldyBFdmVudEVtaXR0ZXI8e1xuICAgIGZpZWxkOiBzdHJpbmc7XG4gICAgaXRlbTogVEl0ZW07XG4gICAgdmFsdWU6IGJvb2xlYW47XG4gIH0+KCk7XG4gIEBJbnB1dCgnZGF0YScpIHNldCBfZGF0YSh2OiBUSXRlbVtdKSB7XG4gICAgY29uc29sZS5sb2codik7XG4gICAgdGhpcy5kYXRhU291cmNlID0gbmV3IE1hdFRhYmxlRGF0YVNvdXJjZSh2IHx8IFtdKTtcbiAgICAvLyB0aGlzLnNob3dQYWdlcj12Py5sZW5ndGg+dGhpcy5wYWdlU2l6ZVxuICAgIGlmICh0aGlzLnNob3dQYWdlcikge1xuICAgICAgdGhpcy5kYXRhU291cmNlLnBhZ2luYXRvciA9IHRoaXMucGFnaW5hdG9yO1xuICAgICAgdGhpcy5kYXRhU291cmNlLnNvcnQgPSB0aGlzLnNvcnQ7XG4gICAgfVxuICAgIHRoaXMuc2VsZWN0aW9uPy5jbGVhcigpO1xuICAgIHRoaXMucmVzdWx0c0xlbmd0aCA9IHY/Lmxlbmd0aDtcbiAgICB0aGlzLm11dGFibGVMaXN0ID0gdjtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB1UzogVXRpbGl0eVNlcnZpY2UpIHt9XG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuc2VsZWN0aW9uLmNoYW5nZWQuc3Vic2NyaWJlKChyKSA9PiB7IFxuICAgICAgdGhpcy5zZWxlY3Rpb25DaGFuZ2VkLmVtaXQocik7XG4gICAgfSk7XG4gIH1cbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNob3dQYWdlciAmJiB0aGlzLmRhdGFTb3VyY2UpIHtcbiAgICAgIHRoaXMuZGF0YVNvdXJjZS5wYWdpbmF0b3IgPSB0aGlzLnBhZ2luYXRvcjtcbiAgICAgIHRoaXMuZGF0YVNvdXJjZS5zb3J0ID0gdGhpcy5zb3J0O1xuICAgIH1cbiAgfVxuXG4gIGdldCBmaWx0ZXJPcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLmRpc3BsYXllZENvbHVtbnMubWFwKCh4KSA9PiAoeyBjb2RlOiB4LmYsIGRlc2NyaXB0aW9uOiB4LnQgfSkpO1xuICB9XG4gIGNsZWFyRmlsdGVyKCkge1xuICAgIHRoaXMuZm9ybS5yZXNldCgpO1xuICB9XG4gIG91dHB1dENoZWNrYm94KGZpZWxkOiBzdHJpbmcsIGl0ZW06IFRJdGVtLCB2YWx1ZTogYW55KSB7XG4gICAgY29uc29sZS5sb2coZmllbGQsIGl0ZW0sIHZhbHVlLCB0aGlzLm11dGFibGVMaXN0KTtcbiAgICBjb25zdCBmaW5kID0gdGhpcy5tdXRhYmxlTGlzdD8uZmluZChcbiAgICAgICh4KSA9PiB4W3RoaXMuaWRGaWVsZF0gPT0gaXRlbVt0aGlzLmlkRmllbGRdXG4gICAgKTtcbiAgICBpZiAoZmluZCkgZmluZFtmaWVsZF0gPSB2YWx1ZTtcbiAgICB0aGlzLmVtaXRDaGVja2JveC5lbWl0KHsgZmllbGQsIGl0ZW0sIHZhbHVlIH0pO1xuICAgIHRoaXMubGlzdE11dGF0ZWQuZW1pdCh0aGlzLm11dGFibGVMaXN0KTtcbiAgfVxuICAvKiogV2hldGhlciB0aGUgbnVtYmVyIG9mIHNlbGVjdGVkIGVsZW1lbnRzIG1hdGNoZXMgdGhlIHRvdGFsIG51bWJlciBvZiByb3dzLiAqL1xuICBpc0FsbFNlbGVjdGVkKCkge1xuICAgIGNvbnN0IG51bVNlbGVjdGVkID0gdGhpcy5zZWxlY3Rpb24/LnNlbGVjdGVkPy5sZW5ndGg7XG4gICAgY29uc3QgbnVtUm93cyA9IHRoaXMuZGF0YVNvdXJjZT8uZGF0YT8ubGVuZ3RoO1xuICAgIHJldHVybiBudW1TZWxlY3RlZCA9PT0gbnVtUm93cztcbiAgfVxuXG4gIC8qKiBTZWxlY3RzIGFsbCByb3dzIGlmIHRoZXkgYXJlIG5vdCBhbGwgc2VsZWN0ZWQ7IG90aGVyd2lzZSBjbGVhciBzZWxlY3Rpb24uICovXG4gIG1hc3RlclRvZ2dsZSgpIHtcbiAgICBpZiAodGhpcy5pc0FsbFNlbGVjdGVkKCkpIHtcbiAgICAgIHRoaXMuc2VsZWN0aW9uLmNsZWFyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZWxlY3Rpb24uc2VsZWN0KC4uLnRoaXMuZGF0YVNvdXJjZS5kYXRhKTtcbiAgfVxuICBnZXQgc2VsZWN0ZWRJdGVtcygpIHtcbiAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb24uc2VsZWN0ZWQ7XG4gIH1cblxuICAvKiogVGhlIGxhYmVsIGZvciB0aGUgY2hlY2tib3ggb24gdGhlIHBhc3NlZCByb3cgKi9cbiAgY2hlY2tib3hMYWJlbChyb3c/OiBhbnkpOiBzdHJpbmcge1xuICAgIGlmICghcm93KSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5pc0FsbFNlbGVjdGVkKCkgPyAnZGVzZWxlY3QnIDogJ3NlbGVjdCd9IGFsbGA7XG4gICAgfVxuICAgIHJldHVybiBgJHt0aGlzLnNlbGVjdGlvbi5pc1NlbGVjdGVkKHJvdykgPyAnZGVzZWxlY3QnIDogJ3NlbGVjdCd9IHJvdyAke1xuICAgICAgcm93LnBvc2l0aW9uICsgMVxuICAgIH1gO1xuICB9XG4gIHJvd0NsaWNrKGUpIHtcbiAgICB0aGlzLl9yb3dDbGljay5lbWl0KGUpO1xuICB9XG4gIGNsaWNrQnRuKGNvbDogSVRhYmxlQ29sLCByb3c6IFRJdGVtKSB7XG4gICAgaWYgKGNvbD8uYnRuPy5hY3Rpb24pIGNvbC5idG4uYWN0aW9uKHJvdywgY29sLmYpO1xuICB9XG5cbiAgZ2V0QWN0aW9uU3RhdHVzQ2FsbGJhY2soY29sKSB7XG4gICAgcmV0dXJuIChzdGF0ZTogYm9vbGVhbikgPT4gKGNvbC5idG4ubG9hZGluZyA9IHN0YXRlKTtcbiAgfVxuICBwcm90ZWN0ZWQgcGFnZVNpemVJbmNyZW1lbnRvcjogbnVtYmVyID0gMTA7XG4gIGluY3JlYXNlUGFnZVNpemUoKSB7XG4gICAgaWYgKHRoaXMuZGF0YVNvdXJjZT8uZGF0YT8ubGVuZ3RoIDw9IHRoaXMuZGF0YVNvdXJjZS5wYWdpbmF0b3IucGFnZVNpemUpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5kYXRhU291cmNlLnBhZ2luYXRvci5wYWdlU2l6ZSA9XG4gICAgICB0aGlzLmRhdGFTb3VyY2UucGFnaW5hdG9yLnBhZ2VTaXplICsgdGhpcy5wYWdlU2l6ZUluY3JlbWVudG9yO1xuICAgIHRoaXMuX2RhdGEgPSB0aGlzLm11dGFibGVMaXN0O1xuICB9XG4gIGRlY3JlYXNlUGFnZVNpemUoKSB7XG4gICAgaWYgKHRoaXMucGFnaW5hdG9yLnBhZ2VTaXplID4gdGhpcy5wYWdlU2l6ZUluY3JlbWVudG9yKVxuICAgICAgdGhpcy5wYWdpbmF0b3IucGFnZVNpemUgPVxuICAgICAgICB0aGlzLnBhZ2luYXRvci5wYWdlU2l6ZSAtIHRoaXMucGFnZVNpemVJbmNyZW1lbnRvcjtcbiAgfVxuICByZXNldFBhZ2VTaXplKCkge1xuICAgIHRoaXMuZGF0YVNvdXJjZS5wYWdpbmF0b3IucGFnZVNpemUgPSB0aGlzLnBhZ2VTaXplO1xuICAgIHRoaXMuX2RhdGEgPSB0aGlzLm11dGFibGVMaXN0O1xuICB9XG4gIG9wdGlvbkxhYmVsbGVyID0gKG9wdGlvbjogSVJvd09wdGlvbiwgcm93OiBUSXRlbSkgPT5cbiAgICBvcHRpb24/LmxhYmVsRm9ybWF0dGVyID8gb3B0aW9uLmxhYmVsRm9ybWF0dGVyKHJvdykgOiBvcHRpb24udDtcbn1cbiIsIjxkaXYgY2xhc3M9XCIgXCI+XG4gIDxkaXYgW25nQ2xhc3NdPVwieyBib3JkZXI6IGRpc3RpbmN0IH1cIj5cbiAgICA8ZGl2IGNsYXNzPVwidGFibGUtY29udGFpbmVyXCIgI2NvbnRhaW5lcj5cbiAgICAgIDxkaXYgY2xhc3M9XCJvdmVyZmxvdy1hdXRvXCI+XG4gICAgICAgIDx0YWJsZSBtYXQtdGFibGUgW2RhdGFTb3VyY2VdPVwiZGF0YVNvdXJjZVwiIG1hdFNvcnQgY2xhc3M9XCJ3LTEwMCBkLXRhYmxlICAgbWItMFwiXG4gICAgICAgICAgW25nQ2xhc3NdPVwie3NtYWxsZXJGb250cyxub3dyYXAsY2VudGVyQ2VsbHMsY3Vydnl9XCI+XG4gICAgICAgICAgPCEtLSBDaGVja2JveCBDb2x1bW4gLS0+XG4gICAgICAgICAgPG5nLWNvbnRhaW5lciBtYXRDb2x1bW5EZWY9XCJtc2VsZWN0XCIgW3N0aWNreV09XCIhcGxhY2VTZWxlY3Rpb25BdFJpZ2h0XCIgW3N0aWNreUVuZF09XCJwbGFjZVNlbGVjdGlvbkF0UmlnaHRcIj5cbiAgICAgICAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgKm1hdEhlYWRlckNlbGxEZWY+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjdXN0b21TZWxlY3RDbGFzc1wiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBbY2xhc3NdPVwiY3VzdG9tU2VsZWN0Q2xhc3NcIiAoY2hhbmdlKT1cIiRldmVudCA/IG1hc3RlclRvZ2dsZSgpIDogbnVsbFwiXG4gICAgICAgICAgICAgICAgICBbY2hlY2tlZF09XCJzZWxlY3Rpb24uaGFzVmFsdWUoKSAmJiBpc0FsbFNlbGVjdGVkKClcIlxuICAgICAgICAgICAgICAgICAgW2luZGV0ZXJtaW5hdGVdPVwic2VsZWN0aW9uLmhhc1ZhbHVlKCkgJiYgIWlzQWxsU2VsZWN0ZWQoKVwiIFthdHRyLmFyaWEtbGFiZWxdPVwiY2hlY2tib3hMYWJlbCgpXCIgLz5cbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIhY3VzdG9tU2VsZWN0Q2xhc3NcIj5cbiAgICAgICAgICAgICAgICA8bWF0LWNoZWNrYm94IGNsYXNzPVwiY2lyY2xlLWNoZWNrYm94XCIgKGNoYW5nZSk9XCIkZXZlbnQgPyBtYXN0ZXJUb2dnbGUoKSA6IG51bGxcIlxuICAgICAgICAgICAgICAgICAgW2NoZWNrZWRdPVwic2VsZWN0aW9uLmhhc1ZhbHVlKCkgJiYgaXNBbGxTZWxlY3RlZCgpXCJcbiAgICAgICAgICAgICAgICAgIFtpbmRldGVybWluYXRlXT1cInNlbGVjdGlvbi5oYXNWYWx1ZSgpICYmICFpc0FsbFNlbGVjdGVkKClcIiBbYXJpYS1sYWJlbF09XCJjaGVja2JveExhYmVsKClcIj5cbiAgICAgICAgICAgICAgICA8L21hdC1jaGVja2JveD5cbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IHJvd1wiPlxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY3VzdG9tU2VsZWN0Q2xhc3NcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgY29udHJvbC1iZy1ncmF5XCIgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cIiRldmVudCA/IHNlbGVjdGlvbi50b2dnbGUocm93KSA6IG51bGxcIiBbY2hlY2tlZF09XCJzZWxlY3Rpb24uaXNTZWxlY3RlZChyb3cpXCJcbiAgICAgICAgICAgICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiY2hlY2tib3hMYWJlbChyb3cpXCIgLz5cbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIhY3VzdG9tU2VsZWN0Q2xhc3NcIj5cbiAgICAgICAgICAgICAgICA8bWF0LWNoZWNrYm94IGNsYXNzPVwiY2lyY2xlLWNoZWNrYm94XCIgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cIiRldmVudCA/IHNlbGVjdGlvbi50b2dnbGUocm93KSA6IG51bGxcIiBbY2hlY2tlZF09XCJzZWxlY3Rpb24uaXNTZWxlY3RlZChyb3cpXCJcbiAgICAgICAgICAgICAgICAgIFthcmlhLWxhYmVsXT1cImNoZWNrYm94TGFiZWwocm93KVwiPlxuICAgICAgICAgICAgICAgIDwvbWF0LWNoZWNrYm94PlxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgPCEtLSBDb2x1bW5zIC0tPlxuICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGNvbCBvZiBkaXNwbGF5ZWRDb2x1bW5zOyBsZXQgaSA9IGluZGV4XCI+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyIFtuZ1N3aXRjaF09XCJjb2wudHlwZVwiPlxuXG5cbiAgICAgICAgICAgICAgPCEtLSBCdXR0b24gLS0+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nU3dpdGNoQ2FzZT1cIididXR0b24nXCIgbWF0Q29sdW1uRGVmPVwie3sgY29sLmZ8dG9BbnkgfX1cIj5cbiAgICAgICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPlxuICAgICAgICAgICAgICAgICAge3sgY29sLnQgfX1cbiAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgIDx0ZCBtYXQtY2VsbCAqbWF0Q2VsbERlZj1cImxldCByb3dcIiBjbGFzcz1cImJ0bi1jZWxsXCI+XG4gICAgICAgICAgICAgICAgICA8YXBwLWJ0biBbaWNvbl09XCJjb2wuYnRuPy5pY29uXCIgW3R5cGVdPVwiY29sLmJ0bj8udHlwZVwiIChtY2xpY2spPVwiY2xpY2tCdG4oY29sLHJvdylcIlxuICAgICAgICAgICAgICAgICAgICBbdGV4dF09XCJjb2wuYnRuPy5sYWJlbFwiIFtsb2FkaW5nXT1cImNvbC5idG4/LmxvYWRpbmdcIiBbaWNvbkJ0bl09XCJjb2wuYnRuPy5pY29uQnRuXCIgbWNsYXNzPVwidy1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cImNvbC5idG4/LmRpc2FibGVkIHx8IGNvbC5idG4/LmxvYWRpbmdcIj48L2FwcC1idG4+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgIDwhLS0vLyAtLT5cblxuICAgICAgICAgICAgICA8IS0tIFRyZW5kIC0tPlxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ1N3aXRjaENhc2U9XCIndHJlbmQnXCIgbWF0Q29sdW1uRGVmPVwie3sgY29sLmZ8dG9BbnkgfX1cIj5cbiAgICAgICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmIG1hdC1zb3J0LWhlYWRlcj5cbiAgICAgICAgICAgICAgICAgIHt7IGNvbC50fHRpdGxlY2FzZSB9fVxuICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IHJvd1wiIGNsYXNzPVwiYnRuLWNlbGxcIj5cbiAgICAgICAgICAgICAgICAgIDxwcmVjZW50YWdlLXRyZW5kIFt0cmVuZF09XCJyb3dbY29sLmZdXCI+PC9wcmVjZW50YWdlLXRyZW5kPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICA8IS0tLy8gLS0+XG5cblxuICAgICAgICAgICAgICA8IS0tIERFRkFVTFQgLS0+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgbWF0Q29sdW1uRGVmPVwie3sgY29sLmZ8dG9BbnkgfX1cIiAqbmdTd2l0Y2hEZWZhdWx0PlxuICAgICAgICAgICAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgKm1hdEhlYWRlckNlbGxEZWYgbWF0LXNvcnQtaGVhZGVyPlxuICAgICAgICAgICAgICAgICAge3tmb3JtYXRDb2x1bW5IZWFkZXJzPyhjb2wudHx0aXRsZWNhc2UpOmNvbC50IH19XG4gICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICA8dGQgbWF0LWNlbGwgKm1hdENlbGxEZWY9XCJsZXQgcm93XCI+XG4gICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29sLnJvdXRlRm9ybWF0dGVyOyBlbHNlIGVsc2VOb1JvdXRlVGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJjZWxsIGxpbmsgcG9pbnRlciB7e2NvbC5pdGVtQ2xhc3NGdW5jfGZ1bmN0aW9uQ2FsbGVyMTpyb3d9fSBcIlxuICAgICAgICAgICAgICAgICAgICAgIFtyb3V0ZXJMaW5rXT1cIltjb2w/LnJvdXRlRm9ybWF0dGVyfGZ1bmN0aW9uQ2FsbGVyMTpyb3ddXCJcbiAgICAgICAgICAgICAgICAgICAgICBbcXVlcnlQYXJhbXNdPVwiY29sPy5tcXVlcnlQYXJhbXN8ZnVuY3Rpb25DYWxsZXIxOnJvd1wiXG4gICAgICAgICAgICAgICAgICAgICAgW21hdFRvb2x0aXBdPVwiKHJvd3xnZXRDb2xGb3JtYXR0ZWQ6Y29sKXxhc3luY1wiICNlbGVcbiAgICAgICAgICAgICAgICAgICAgICBbbWF0VG9vbHRpcERpc2FibGVkXT1cImVsZS5zY3JvbGxXaWR0aDw9ZWxlLm9mZnNldFdpZHRoXCJcbiAgICAgICAgICAgICAgICAgICAgICBbaW5uZXJIVE1MXT1cIigocm93fGdldENvbEZvcm1hdHRlZDpjb2wpfGFzeW5jKXx2YWx1ZU9yWFwiPlxuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjZWxzZU5vUm91dGVUZW1wbGF0ZT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNlbGwge3tjb2wuaXRlbUNsYXNzRnVuY3xmdW5jdGlvbkNhbGxlcjE6cm93fX0gXCJcbiAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7cG9pbnRlcjpjb2wuYWN0aW9uLGxpbms6Y29sLmFjdGlvbn1cIiAoY2xpY2spPVwiY29sLmFjdGlvbj9jb2wuYWN0aW9uKHJvdyxjb2wuZik6bnVsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgW21hdFRvb2x0aXBdPVwiKHJvd3xnZXRDb2xGb3JtYXR0ZWQ6Y29sKXxhc3luY1wiICNlbGVcbiAgICAgICAgICAgICAgICAgICAgICBbbWF0VG9vbHRpcERpc2FibGVkXT1cImVsZS5zY3JvbGxXaWR0aDw9ZWxlLm9mZnNldFdpZHRoXCJcbiAgICAgICAgICAgICAgICAgICAgICBbaW5uZXJIVE1MXT1cIigocm93fGdldENvbEZvcm1hdHRlZDpjb2wpfGFzeW5jKXx2YWx1ZU9yWFwiPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG5cbiAgICAgICAgICAgICAgPCEtLS8vIC0tPlxuICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgPC9uZy1jb250YWluZXI+XG5cbiAgICAgICAgICA8IS0tIE9wdGlvbnMgQ29sdW1uIC0tPlxuICAgICAgICAgIDxuZy1jb250YWluZXIgbWF0Q29sdW1uRGVmPVwib3B0aW9uXCIgKm5nSWY9XCJvcHRpb25zPy5sZW5ndGg+MHx8b3B0aW9uc01hcFwiIHN0aWNreUVuZD5cbiAgICAgICAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgY2xhc3M9XCJsYXN0U3RpY2t5SXRlbSB3LWF1dG9cIiAqbWF0SGVhZGVyQ2VsbERlZiBkaXNhYmxlQ2xlYXI+PC90aD5cbiAgICAgICAgICAgIDx0ZCBtYXQtY2VsbCBjbGFzcz1cImxhc3RTdGlja3lJdGVtIHctYXV0b1wiICptYXRDZWxsRGVmPVwibGV0IHJvd1wiPlxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwib3B0aW9uc01hcDsgZWxzZSBlbHNlT3B0aW9uc1RlbXBsYXRlXCI+XG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIihvcHRpb25zTWFwfGZ1bmN0aW9uQ2FsbGVyMTpyb3cpIGFzIF9yb3dvcHRpb25zXCI+XG4gICAgICAgICAgICAgICAgICA8YXBwLWJ0biB0eXBlPVwiY2xlYXJcIiBbbWF0TWVudVRyaWdnZXJGb3JdPVwibWVudVwiIGNsYXNzPVwiYnRuIG1zLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPG1hdC1pY29uPm1vcmVfdmVydDwvbWF0LWljb24+XG4gICAgICAgICAgICAgICAgICA8L2FwcC1idG4+XG4gICAgICAgICAgICAgICAgICA8bWF0LW1lbnUgI21lbnU9XCJtYXRNZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gbWF0LW1lbnUtaXRlbSAqbmdGb3I9XCJsZXQgb3B0aW9uIG9mIF9yb3dvcHRpb25zXCIgKGNsaWNrKT1cIm9wdGlvbi5hY3Rpb24ocm93KVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHt7b3B0aW9uTGFiZWxsZXJ8ZnVuY3Rpb25DYWxsZXIyOm9wdGlvbjpyb3d9fVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvbWF0LW1lbnU+XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgI2Vsc2VPcHRpb25zVGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgPGFwcC1idG4gdHlwZT1cImNsZWFyXCIgW21hdE1lbnVUcmlnZ2VyRm9yXT1cIm1lbnVcIiBjbGFzcz1cImJ0biBtcy0yXCI+XG4gICAgICAgICAgICAgICAgICA8bWF0LWljb24+bW9yZV92ZXJ0PC9tYXQtaWNvbj5cbiAgICAgICAgICAgICAgICA8L2FwcC1idG4+XG4gICAgICAgICAgICAgICAgPG1hdC1tZW51ICNtZW51PVwibWF0TWVudVwiPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBtYXQtbWVudS1pdGVtICpuZ0Zvcj1cImxldCBvcHRpb24gb2Ygb3B0aW9uc1wiIChjbGljayk9XCJvcHRpb24uYWN0aW9uKHJvdylcIj5cbiAgICAgICAgICAgICAgICAgICAge3tvcHRpb25MYWJlbGxlcnxmdW5jdGlvbkNhbGxlcjI6b3B0aW9uOnJvd319XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L21hdC1tZW51PlxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cblxuXG5cbiAgICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgICAqbmdJZj1cImRpc3BsYXllZENvbHVtbnMgfCBnZXRSYXdGaWVsZHM6ICEhb3B0aW9ucz8ubGVuZ3RoOnVzZVNlbGVjdGlvbjpwbGFjZVNlbGVjdGlvbkF0UmlnaHQgYXMgZGNvbHNcIj5cbiAgICAgICAgICAgIDx0ciBtYXQtaGVhZGVyLXJvdyAqbWF0SGVhZGVyUm93RGVmPVwiZGNvbHNcIj48L3RyPlxuICAgICAgICAgICAgPHRyIG1hdC1yb3cgKm1hdFJvd0RlZj1cImxldCByb3c7IGNvbHVtbnM6IGRjb2xzXCIgIFtuZ0NsYXNzXT1cIntwb2ludGVyOnNob3dSb3dQb2ludGVyLHNlbGVjdGVkOnNlbGVjdGlvbi5pc1NlbGVjdGVkKHJvdyksZGlzYWJsZWQ6aXNEaXNhYmxlZEZ1bmM/aXNEaXNhYmxlZEZ1bmMocm93KTpmYWxzZX1cIlxuICAgICAgICAgICAgKGNsaWNrKT1cInJvd0NsaWNrKHJvdylcIj5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8dHIgY2xhc3M9XCJtYXQtcm93XCIgKm1hdE5vRGF0YVJvdz5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWF0LWNlbGxcIiBbYXR0ci5jb2xzcGFuXT1cImRjb2xzPy5sZW5ndGggfHwgMVwiPlxuICAgICAgICAgICAgICAgIHt7IG5vSXRlbVR4dCB9fVxuICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIDwvZGl2PlxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInNob3dQYWdlclwiPlxuICAgICAgICA8bWF0LXBhZ2luYXRvciBtcmVzcG9uc2l2ZW5lc3MgW2hpZGVNb2JpbGVdPVwidHJ1ZVwiIFtsZW5ndGhdPVwicmVzdWx0c0xlbmd0aFwiIFtwYWdlU2l6ZU9wdGlvbnNdPVwicGFnZVNpemVPcHRpb25zXCJcbiAgICAgICAgICBbcGFnZVNpemVdPVwicGFnZVNpemVcIiBzaG93Rmlyc3RMYXN0QnV0dG9ucz5cbiAgICAgICAgPC9tYXQtcGFnaW5hdG9yPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiICBcIiBtcmVzcG9uc2l2ZW5lc3MgW2hpZGVEZXNrdG9wXT1cInRydWVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XG4gICAgICAgICAgICA8YXBwLWJ0biB0ZXh0PVwiU2VlIG1vcmVcIiB0eXBlPVwiY2xlYXItcG1cIiAobWNsaWNrKT1cImluY3JlYXNlUGFnZVNpemUoKVwiXG4gICAgICAgICAgICAgICpuZ0lmPVwiZGF0YVNvdXJjZT8uZGF0YT8ubGVuZ3RoPnBhZ2luYXRvcj8ucGFnZVNpemU7ZWxzZSBzaG93TGVzc1wiIC8+XG4gICAgICAgICAgICA8bmctdGVtcGxhdGUgI3Nob3dMZXNzPlxuICAgICAgICAgICAgICA8YXBwLWJ0biB0ZXh0PVwiU2VlIGxlc3NcIiB0eXBlPVwiY2xlYXItcG1cIiAobWNsaWNrKT1cInJlc2V0UGFnZVNpemUoKVwiIC8+XG4gICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PiJdfQ==