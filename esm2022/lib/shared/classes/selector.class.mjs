export class SelectionData {
    get selectedItem() {
        return this.selectedItems[0];
    }
    get count() {
        return this.selectedItems.length;
    }
    constructor(sourceArr) {
        this.selectedItems = [];
        this.selectedMap = {};
        this.sourceData = [];
        Object.assign(this.sourceData, sourceArr);
    }
    itemChanged(id, e) {
        if (e.checked)
            this.addSelectedItem(id);
        else
            this.removeSelectedItem(id);
    }
    addSelectedItem(id) {
        // debugger;
        if (this.selectedMap[id])
            return;
        const item = this.sourceData?.find((x) => x['id'] == id);
        if (item) {
            this.selectedMap[id] = true;
            this.selectedItems.push(item);
        }
    }
    removeSelectedItem(id) {
        this.selectedMap[id] = false;
        this.selectedItems = this.selectedItems?.filter((x) => x['id'] != id);
    }
    reset() {
        this.selectedItems = [];
        this.selectedMap = {};
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0b3IuY2xhc3MuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9oZXJsaGF5LWhlbHBlcnMvc3JjL2xpYi9zaGFyZWQvY2xhc3Nlcy9zZWxlY3Rvci5jbGFzcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxNQUFNLE9BQU8sYUFBYTtJQUN4QixJQUFJLFlBQVk7UUFDZCxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUlELElBQUksS0FBSztRQUNQLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUM7SUFDbkMsQ0FBQztJQUNELFlBQVksU0FBYztRQU4xQixrQkFBYSxHQUFRLEVBQUUsQ0FBQztRQUN4QixnQkFBVyxHQUE4QixFQUFFLENBQUM7UUFDNUMsZUFBVSxHQUFRLEVBQUUsQ0FBQztRQUtuQixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUVELFdBQVcsQ0FBQyxFQUFVLEVBQUUsQ0FBdUI7UUFDN0MsSUFBSSxDQUFDLENBQUMsT0FBTztZQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBRSxDQUFDLENBQUM7O1lBQ25DLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBQ0QsZUFBZSxDQUFDLEVBQVU7UUFDeEIsWUFBWTtRQUNaLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUM7WUFBRSxPQUFPO1FBQ2pDLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7UUFDekQsSUFBSSxJQUFJLEVBQUU7WUFDUixJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQztZQUM1QixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMvQjtJQUNILENBQUM7SUFDRCxrQkFBa0IsQ0FBQyxFQUFVO1FBQzNCLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDO1FBQzdCLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLGFBQWEsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBQ0QsS0FBSztRQUNILElBQUksQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxXQUFXLEdBQUMsRUFBRSxDQUFBO0lBQ3JCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1hdENoZWNrYm94Q2hhbmdlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvY2hlY2tib3gnO1xuaW1wb3J0IHsgUmVwbGF5U3ViamVjdCB9IGZyb20gJ3J4anMnO1xuXG5leHBvcnQgY2xhc3MgU2VsZWN0aW9uRGF0YTxUPiB7XG4gIGdldCBzZWxlY3RlZEl0ZW0oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJdGVtc1swXTtcbiAgfVxuICBzZWxlY3RlZEl0ZW1zOiBUW10gPSBbXTtcbiAgc2VsZWN0ZWRNYXA6IHsgW2lkOiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcbiAgc291cmNlRGF0YTogVFtdID0gW107XG4gIGdldCBjb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aDtcbiAgfVxuICBjb25zdHJ1Y3Rvcihzb3VyY2VBcnI6IFRbXSkge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5zb3VyY2VEYXRhLCBzb3VyY2VBcnIpO1xuICB9XG5cbiAgaXRlbUNoYW5nZWQoaWQ6IHN0cmluZywgZTogeyBjaGVja2VkOiBib29sZWFuIH0pIHtcbiAgICBpZiAoZS5jaGVja2VkKSB0aGlzLmFkZFNlbGVjdGVkSXRlbShpZCk7XG4gICAgZWxzZSB0aGlzLnJlbW92ZVNlbGVjdGVkSXRlbShpZCk7XG4gIH1cbiAgYWRkU2VsZWN0ZWRJdGVtKGlkOiBzdHJpbmcpIHtcbiAgICAvLyBkZWJ1Z2dlcjtcbiAgICBpZiAodGhpcy5zZWxlY3RlZE1hcFtpZF0pIHJldHVybjtcbiAgICBjb25zdCBpdGVtID0gdGhpcy5zb3VyY2VEYXRhPy5maW5kKCh4KSA9PiB4WydpZCddID09IGlkKTtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgdGhpcy5zZWxlY3RlZE1hcFtpZF0gPSB0cnVlO1xuICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1zLnB1c2goaXRlbSk7XG4gICAgfVxuICB9XG4gIHJlbW92ZVNlbGVjdGVkSXRlbShpZDogc3RyaW5nKSB7XG4gICAgdGhpcy5zZWxlY3RlZE1hcFtpZF0gPSBmYWxzZTtcbiAgICB0aGlzLnNlbGVjdGVkSXRlbXMgPSB0aGlzLnNlbGVjdGVkSXRlbXM/LmZpbHRlcigoeCkgPT4geFsnaWQnXSAhPSBpZCk7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5zZWxlY3RlZEl0ZW1zID0gW107XG4gICAgdGhpcy5zZWxlY3RlZE1hcD17fVxuICB9XG59XG4iXX0=